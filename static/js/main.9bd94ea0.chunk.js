(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],[,,,,,,,function(t,e,n){t.exports={wrapper:"Button_wrapper__pj90c",active:"Button_active__FWtIw",disabled:"Button_disabled__1AAMG"}},,function(t,e,n){t.exports={wrapper:"Col_wrapper__3FddR",selected:"Col_selected__29n3t"}},function(t,e,n){t.exports={wrapper:"Table_wrapper__2oJSk",table:"Table_table__3Cw9e"}},,function(t,e,n){t.exports={wrapper:"SelectionMenu_wrapper__2E3fb"}},function(t,e,n){t.exports={wrapper:"AddCol_wrapper__2LYv8"}},,,,,,function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),o=n(11),r=n.n(o),i=n(4),d=c.createContext(null),l={touched:!1,selectionState:{selected:!1},rows:[{id:1,height:60,cols:[{id:1,content:"11",type:"text",display:!0},{id:2,content:"12",type:"text",display:!0},{id:3,content:"13",type:"text",display:!0},{id:4,content:"14",type:"text",display:!0}]},{id:2,height:50,cols:[{id:1,content:"21",type:"text",display:!0},{id:2,content:"22",type:"text",display:!0},{id:3,content:"23",type:"text",display:!0},{id:4,content:"24",type:"text",display:!0}]},{id:3,height:70,cols:[{id:1,content:"31",type:"text",display:!0},{id:2,content:"32",type:"text",display:!0},{id:3,content:"33",type:"text",display:!0},{id:4,content:"34",type:"text",display:!0}]},{id:4,height:80,cols:[{id:1,content:"41",type:"text",display:!0},{id:2,content:"42",type:"text",display:!0},{id:3,content:"43",type:"text",display:!0},{id:4,content:"44",type:"text",display:!0}]}]},s=n(2),p=n(3),u=Object(p.createStandardAction)("TABLE/SET_START_SELECTION")(),j=Object(p.createStandardAction)("TABLE/SET_END_SELECTION")(),b=Object(p.createStandardAction)("TABLE/SET_SELECTED_SELECTION")(),w=Object(p.createStandardAction)("TABLE/SET_TOUCHED")(),O=Object(p.createStandardAction)("TABLE/CLEAR_SELECTION")(),f=Object(p.createStandardAction)("TABLE/ROWS_UPDATE")(),x=Object(p.createReducer)(l).handleAction(u,(function(t,e){var n=e.payload.positionStart;return Object(s.a)(Object(s.a)({},t),{},{selectionState:Object(s.a)(Object(s.a)({},t.selectionState),{},{start:n})})})).handleAction(j,(function(t,e){var n=e.payload.positionEnd;return Object(s.a)(Object(s.a)({},t),{},{selectionState:Object(s.a)(Object(s.a)({},t.selectionState),{},{end:n})})})).handleAction(w,(function(t,e){var n=e.payload.touched;return Object(s.a)(Object(s.a)({},t),{},{touched:n})})).handleAction(b,(function(t,e){var n=e.payload.selected;return Object(s.a)(Object(s.a)({},t),{},{selectionState:Object(s.a)(Object(s.a)({},t.selectionState),{},{selected:n})})})).handleAction(O,(function(t){return Object(s.a)(Object(s.a)({},t),{},{selectionState:{selected:!1}})})).handleAction(f,(function(t,e){var n=e.payload.rows;return Object(s.a)(Object(s.a)({},t),{},{rows:n})})),S=n(5),y=n(6),h=n.n(y),I=function(t,e){return{row:{min:t.rowId<e.rowId?t.rowId:e.rowId,max:t.rowId<e.rowId?e.rowId:t.rowId},col:{min:t.colId<e.colId?t.colId:e.colId,max:t.colId<e.colId?e.colId:t.colId}}},E=function(t,e,n){var c=I(t,e);return n.rowId>=c.row.min&&n.rowId<=c.row.max&&n.colId>=c.col.min&&n.colId<=c.col.max},_=n(9),m=n.n(_),v=n(0),A=function(t){var e=t.colData,n=t.rowId,c=a.a.useContext(d),o=c.state,r=c.dispatch,l=a.a.useState(!1),s=Object(i.a)(l,2),p=s[0],f=s[1];if(a.a.useEffect((function(){o.selectionState.start&&o.selectionState.end?f(E(o.selectionState.start,o.selectionState.end,{rowId:n,colId:e.id})):f(!1)}),[o,n,e]),!e.display)return null;return Object(v.jsx)("td",{id:"col-".concat(n,"-").concat(e.id),onMouseDown:function(){r(O()),r(w({touched:!0})),r(u({positionStart:{rowId:n,colId:e.id}}))},onMouseUp:function(){r(w({touched:!1})),r(b({selected:!0})),r(j({positionEnd:{rowId:n,colId:e.id}}))},onMouseEnter:function(){o.touched&&r(j({positionEnd:{rowId:n,colId:e.id}}))},colSpan:e.colSpan,rowSpan:e.rowSpan,className:h()(m.a.wrapper,Object(S.a)({},m.a.selected,p)),children:e.content})},T=function(t){var e=t.rowData;return Object(v.jsx)("tr",{style:{height:e.height},children:e.cols.map((function(t){return Object(v.jsx)(A,{colData:t,rowId:e.id},t.id)}))})},C=n(7),L=n.n(C),N=function(t){var e,n=t.children,c=t.onClick,a=t.className,o=t.style,r=t.active,i=void 0!==r&&r,d=t.disabled,l=void 0!==d&&d;return Object(v.jsx)("button",{disabled:l,onClick:c,className:h()(L.a.wrapper,a,(e={},Object(S.a)(e,L.a.active,i),Object(S.a)(e,L.a.disabled,l),e)),style:o,children:n})},B=function(){var t=a.a.useState(0),e=Object(i.a)(t,2),n=e[0],c=e[1],o=a.a.useContext(d),r=o.state,l=o.dispatch;if(a.a.useEffect((function(){c(function(t){if(t.start&&t.end){var e=I(t.start,t.end);return(e.row.max-e.row.min+1)*(e.col.max-e.col.min+1)}return 0}(r.selectionState))}),[r]),n<=1)return null;return Object(v.jsx)(N,{onClick:function(){!function(t,e){var n=t.selectionState,c=t.rows;if(n.end&&n.start){var a=I(n.start,n.end),o=a.col.max+1-a.col.min,r=a.row.max+1-a.row.min,i={row:a.row.min,col:a.col.min};o>1&&(c[i.row-1].cols[i.col-1].colSpan=o),r>1&&(c[i.row-1].cols[i.col-1].rowSpan=r),c.forEach((function(t){t.cols=t.cols.map((function(e){return!E(n.start,n.end,{rowId:t.id,colId:e.id})||i.row===t.id&&i.col===e.id?e:Object(s.a)(Object(s.a)({},e),{},{display:!1})}))})),e(f({rows:c})),e(O())}}(r,l)},children:"Merge"})},g=n(12),D=n.n(g),k=function(){var t=a.a.useContext(d).state,e=a.a.useState(),n=Object(i.a)(e,2),c=n[0],o=n[1];return a.a.useEffect((function(){t.selectionState.start&&t.selectionState.end&&o(function(t,e){var n=I(t,e),c=document.getElementById("col-".concat(n.row.min,"-").concat(n.col.min));return c?{top:c.offsetTop+8,left:c.offsetLeft+8}:{top:0,left:0}}(t.selectionState.start,t.selectionState.end))}),[t]),t.selectionState.selected?Object(v.jsx)("div",{className:D.a.wrapper,style:c,children:Object(v.jsx)(B,{})}):null},M=n(13),R=n.n(M),J=function(){var t=a.a.useContext(d);t.state,t.dispatch;return Object(v.jsx)(N,{onClick:function(){},className:R.a.wrapper,children:"+"})},U=n(10),F=n.n(U),P=function(){var t=a.a.useReducer(x,l),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(v.jsx)(d.Provider,{value:{dispatch:c,state:n},children:Object(v.jsxs)("div",{className:F.a.wrapper,children:[Object(v.jsx)("table",{className:F.a.table,children:Object(v.jsx)("tbody",{children:n.rows.map((function(t){return Object(v.jsx)(T,{rowData:t},t.id)}))})}),Object(v.jsx)(k,{}),Object(v.jsx)(J,{})]})})};var W=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(P,{})})};r.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.9bd94ea0.chunk.js.map