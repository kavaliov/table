(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],[,,,,,,,function(t,e,c){t.exports={wrapper:"ChangeBackground_wrapper__2Uwxj",colors:"ChangeBackground_colors__Je-TV",opened:"ChangeBackground_opened__2cpzw",colorButton:"ChangeBackground_colorButton__2QEDl",transparent:"ChangeBackground_transparent__mqomV"}},,,,function(t,e,c){t.exports={wrapper:"Button_wrapper__pj90c",active:"Button_active__FWtIw",disabled:"Button_disabled__1AAMG"}},function(t,e,c){t.exports={wrapper:"Table_wrapper__2oJSk",table:"Table_table__3Cw9e",filled:"Table_filled__wq5i1"}},,function(t,e,c){t.exports={wrapper:"Col_wrapper__3FddR",selected:"Col_selected__29n3t"}},,function(t,e,c){t.exports={wrapper:"TextEdit_wrapper__3ANjp"}},function(t,e,c){t.exports={wrapper:"SelectionMenu_wrapper__2E3fb"}},function(t,e,c){t.exports={wrapper:"AddCol_wrapper__2LYv8"}},function(t,e,c){t.exports={wrapper:"AddRow_wrapper__g2LGC"}},,,,,,function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),o=c(15),r=c.n(o),s=c(4),l=c(5),i=n.createContext(null),d={editableCol:0,touched:!1,selectionState:{selected:!1},rows:[]},u=c(2),b=c(3),j=Object(b.createStandardAction)("TABLE/SET_START_SELECTION")(),p=Object(b.createStandardAction)("TABLE/SET_END_SELECTION")(),f=Object(b.createStandardAction)("TABLE/SET_SELECTED_SELECTION")(),O=Object(b.createStandardAction)("TABLE/SET_TOUCHED")(),w=Object(b.createStandardAction)("TABLE/CLEAR_SELECTION")(),_=Object(b.createStandardAction)("TABLE/ROWS_UPDATE")(),x=Object(b.createStandardAction)("TABLE/SET_EDITABLE_COL")(),S=Object(b.createStandardAction)("TABLE/UPDATE_COL_CONTENT")(),h=Object(b.createStandardAction)("TABLE/UPDATE_COL_BACKGROUND")(),m=Object(b.createReducer)(d).handleAction(j,(function(t,e){var c=e.payload.positionStart;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{start:c})})})).handleAction(p,(function(t,e){var c=e.payload.positionEnd;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{end:c})})})).handleAction(O,(function(t,e){var c=e.payload.touched;return Object(u.a)(Object(u.a)({},t),{},{touched:c})})).handleAction(f,(function(t,e){var c=e.payload.selected;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{selected:c})})})).handleAction(w,(function(t){return Object(u.a)(Object(u.a)({},t),{},{selectionState:{selected:!1}})})).handleAction(_,(function(t,e){var c=e.payload.rows;return Object(u.a)(Object(u.a)({},t),{},{rows:c})})).handleAction(x,(function(t,e){var c=e.payload.editableCol;return Object(u.a)(Object(u.a)({},t),{},{editableCol:c})})).handleAction(S,(function(t,e){var c=e.payload,n=c.colId,a=c.rowId,o=c.content,r=t.rows;return r[a-1].cols[n-1].content=o,Object(u.a)(Object(u.a)({},t),{},{rows:r})})).handleAction(h,(function(t,e){var c=e.payload,n=c.colId,a=c.rowId,o=c.background,r=t.rows;return r[a-1].cols[n-1].background=o,Object(u.a)(Object(u.a)({},t),{},{rows:r})})),I={content:"",type:"text",display:!0},v=["#fff1b8","#ffffb8","#f4ffb8","#d9f7be","#b5f5ec","#bae7ff","#d6e4ff","#efdbff","#ffccc7"],E=c(6),C=c.n(E),g=function(t,e){return{row:{min:t.rowId<e.rowId?t.rowId:e.rowId,max:t.rowId<e.rowId?e.rowId:t.rowId},col:{min:t.colId<e.colId?t.colId:e.colId,max:t.colId<e.colId?e.colId:t.colId}}},A=function(t,e,c){var n=g(t,e);return c.rowId>=n.row.min&&c.rowId<=n.row.max&&c.colId>=n.col.min&&c.colId<=n.col.max},T=function(t){if(t.start&&t.end){var e=g(t.start,t.end);return(e.row.max-e.row.min+1)*(e.col.max-e.col.min+1)}return 0},k=c(14),y=c.n(k),B=c(16),N=c.n(B),L=c(0),D=function(t){var e=t.value,c=t.colId,o=t.rowId,r=t.background,s=a.a.useContext(i).dispatch,l=Object(n.useRef)(null);a.a.useEffect((function(){l.current&&l.current.focus()}),[]);var d=function(t){s(S({rowId:o,colId:c,content:t.target.value})),s(x({editableCol:0}))};return Object(L.jsx)("input",{ref:l,defaultValue:e,onBlur:d,onKeyDown:function(t){"Enter"===t.code&&d(t)},className:N.a.wrapper,style:{background:r}})},R=function(t){var e=t.colData,c=t.rowId,o=a.a.useState(!1),r=Object(l.a)(o,2),d=r[0],u=r[1],b=a.a.useState(!1),_=Object(l.a)(b,2),x=_[0],S=_[1],h=a.a.useContext(i),m=h.state,I=h.dispatch,v=Object(n.useRef)(null);if(a.a.useEffect((function(){m.selectionState.start&&m.selectionState.end?u(A(m.selectionState.start,m.selectionState.end,{rowId:c,colId:e.id})):u(!1),m.editableCol===+"".concat(c).concat(e.id)?S(!0):S(!1)}),[m,c,e,v]),!e.display)return null;return Object(L.jsxs)("td",{id:"col-".concat(c,"-").concat(e.id),onMouseDown:function(){I(w()),I(O({touched:!0})),I(j({positionStart:{rowId:c,colId:e.id}}))},onMouseUp:function(){I(O({touched:!1})),I(f({selected:!0})),I(p({positionEnd:{rowId:c,colId:e.id}}))},onMouseEnter:function(){m.touched&&I(p({positionEnd:{rowId:c,colId:e.id}}))},colSpan:e.colSpan,rowSpan:e.rowSpan,className:C()(y.a.wrapper,Object(s.a)({},y.a.selected,d)),style:{background:e.background},children:[x&&"text"===e.type&&Object(L.jsx)(D,{value:e.content,background:e.background,rowId:c,colId:e.id}),!x&&e.content]})},M=function(t){var e=t.rowData;return Object(L.jsx)("tr",{style:{height:e.height||45},children:e.cols.map((function(t){return Object(L.jsx)(R,{colData:t,rowId:e.id},t.id)}))})},U=c(11),J=c.n(U),P=function(t){var e,c=t.children,n=t.onClick,a=t.className,o=t.style,r=t.active,l=void 0!==r&&r,i=t.disabled,d=void 0!==i&&i;return Object(L.jsx)("button",{disabled:d,onClick:n,className:C()(J.a.wrapper,a,(e={},Object(s.a)(e,J.a.active,l),Object(s.a)(e,J.a.disabled,d),e)),style:o,children:c})},G=c.p+"static/media/merge.3b22c6cb.svg",V=function(){var t=a.a.useState(0),e=Object(l.a)(t,2),c=e[0],n=e[1],o=a.a.useContext(i),r=o.state,s=o.dispatch;if(a.a.useEffect((function(){n(T(r.selectionState))}),[r]),c<=1)return null;return Object(L.jsx)(P,{onClick:function(){!function(t,e){var c=t.selectionState,n=t.rows;if(c.end&&c.start){var a=g(c.start,c.end),o=a.col.max+1-a.col.min,r=a.row.max+1-a.row.min,s={row:a.row.min,col:a.col.min};o>1&&(n[s.row-1].cols[s.col-1].colSpan=o),r>1&&(n[s.row-1].cols[s.col-1].rowSpan=r),n.forEach((function(t){t.cols=t.cols.map((function(e){return!A(c.start,c.end,{rowId:t.id,colId:e.id})||s.row===t.id&&s.col===e.id?e:Object(u.a)(Object(u.a)({},e),{},{display:!1})}))})),e(_({rows:n})),e(w())}}(r,s)},children:Object(L.jsx)("img",{src:G,alt:"Merge",style:{width:40}})})},q=c.p+"static/media/edit.9fdc44c8.svg",F=function(){var t=a.a.useContext(i),e=t.dispatch,c=t.state;if(T(c.selectionState)>1)return null;return Object(L.jsx)(P,{onClick:function(){c.selectionState.start&&e(x({editableCol:+"".concat(c.selectionState.start.rowId).concat(c.selectionState.start.colId)}))},children:Object(L.jsx)("img",{src:q,alt:""})})},K=c.p+"static/media/bg-colors.a8cef9f9.svg",W=c(7),z=c.n(W),H=function(){var t=a.a.useContext(i),e=t.state,c=t.dispatch,n=a.a.useState(!1),o=Object(l.a)(n,2),r=o[0],d=o[1],u=function(t){if(e.selectionState.start&&e.selectionState.end){var n=g(e.selectionState.start,e.selectionState.end);c(h({rowId:n.row.min,colId:n.col.min,background:t}))}};return Object(L.jsxs)("div",{className:z.a.wrapper,children:[Object(L.jsx)(P,{active:r,onClick:function(){return d((function(t){return!t}))},children:Object(L.jsx)("img",{src:K,alt:""})}),Object(L.jsxs)("div",{className:C()(z.a.colors,Object(s.a)({},z.a.opened,r)),children:[Object(L.jsx)("button",{onClick:function(){return u("transparent")},className:C()(z.a.colorButton,z.a.transparent)}),v.map((function(t){return Object(L.jsx)("button",{onClick:function(){return u(t)},style:{background:t},className:z.a.colorButton},t)}))]})]})},Q=c(17),Y=c.n(Q),X=function(){var t=a.a.useContext(i).state,e=a.a.useState(),c=Object(l.a)(e,2),n=c[0],o=c[1];return a.a.useEffect((function(){t.selectionState.start&&t.selectionState.end&&o(function(t,e){var c=g(t,e),n=document.getElementById("col-".concat(c.row.min,"-").concat(c.col.min));return n?{top:n.offsetTop+8,left:n.offsetLeft+8}:{top:0,left:0}}(t.selectionState.start,t.selectionState.end))}),[t]),t.selectionState.selected?Object(L.jsxs)("div",{className:Y.a.wrapper,style:n,children:[Object(L.jsx)(V,{}),Object(L.jsx)(F,{}),Object(L.jsx)(H,{})]}):null},Z=c(10),$=c.p+"static/media/plus-circle.74f4afce.svg",tt=c(18),et=c.n(tt),ct=function(){var t=a.a.useContext(i),e=t.state,c=t.dispatch;return e.rows.length?Object(L.jsxs)(P,{onClick:function(){var t;c(_({rows:(t=e.rows,t.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{cols:[].concat(Object(Z.a)(t.cols),[Object(u.a)({id:t.cols.length+1},I)])})})))}))},className:et.a.wrapper,children:[Object(L.jsx)("img",{src:$,alt:""})," Cell"]}):null},nt=function(t){var e=t[0]?t[0].cols.length:1,c={id:t.length+1,cols:new Array(e).fill(I).map((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e+1})}))};return[].concat(Object(Z.a)(t),[c])},at=c.p+"static/media/plus-circle.74f4afce.svg",ot=c(19),rt=c.n(ot),st=function(){var t=a.a.useContext(i),e=t.dispatch,c=t.state;return Object(L.jsxs)(P,{onClick:function(){e(_({rows:nt(c.rows)}))},className:rt.a.wrapper,children:[Object(L.jsx)("img",{src:at,alt:""})," Row"]})},lt=c(12),it=c.n(lt),dt=function(){var t=a.a.useReducer(m,d),e=Object(l.a)(t,2),c=e[0],n=e[1];return Object(L.jsx)(i.Provider,{value:{dispatch:n,state:c},children:Object(L.jsxs)("div",{className:it.a.wrapper,children:[Object(L.jsx)("table",{className:C()(it.a.table,Object(s.a)({},it.a.filled,!!c.rows.length)),children:Object(L.jsx)("tbody",{children:c.rows.map((function(t){return Object(L.jsx)(M,{rowData:t},t.id)}))})}),Object(L.jsx)(X,{}),Object(L.jsx)(ct,{}),Object(L.jsx)(st,{})]})})};var ut=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(dt,{})})};r.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(ut,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.17af437b.chunk.js.map