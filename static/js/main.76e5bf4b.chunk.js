(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{118:function(e,t,o){e.exports={wrapper:"Headers_wrapper__2KgiB"}},119:function(e,t,o){e.exports={wrapper:"TextEdit_wrapper__3ANjp"}},120:function(e,t,o){e.exports={wrapper:"RemoveRow_wrapper__QxJap"}},121:function(e,t,o){e.exports={wrapper:"RemoveCol_wrapper__2M4QV"}},122:function(e,t,o){e.exports={wrapper:"ChangeWidth_wrapper__Ul3dY"}},245:function(e,t,o){"use strict";o.r(t);var r=o(0),c=o.n(r),a=o(65),n=o.n(a),s=o(14),l=o(4),i=(o(128),o(18)),d=o.n(i),u=o(20),j=o.n(u),p=r.createContext(null),b={touched:!1,selectionState:{selectedCols:[],selected:!1},rows:[{id:1,cols:[{content:"",type:"text",display:!0,id:1},{content:"",type:"text",display:!0,id:2}]}]},f=o(2),O=o(13),w=Object(O.createStandardAction)("TABLE/SET_START_SELECTION")(),I=Object(O.createStandardAction)("TABLE/SET_END_SELECTION")(),h=Object(O.createStandardAction)("TABLE/CLEAR_SELECTION")(),v=Object(O.createStandardAction)("TABLE/ROWS_UPDATE")(),S=Object(O.createStandardAction)("TABLE/UPDATE_COL_CONTENT")(),x=Object(O.createStandardAction)("TABLE/UPDATE_COL_BACKGROUND")(),m=Object(O.createStandardAction)("TABLE/SELECT_ROW")(),g=Object(O.createStandardAction)("TABLE/REMOVE_ROW")(),_=Object(O.createStandardAction)("TABLE/SELECT_COL")(),C=Object(O.createStandardAction)("TABLE/SET_COL_WIDTH")(),E=Object(O.createStandardAction)("TABLE/REMOVE_COL")(),F=function(e,t){return{row:{min:e.rowId<t.rowId?e.rowId:t.rowId,max:e.rowId<t.rowId?t.rowId:e.rowId},col:{min:e.colId<t.colId?e.colId:t.colId,max:e.colId<t.colId?t.colId:e.colId}}},y=function(e,t,o){var r=F(e,t);return o.rowId>=r.row.min&&o.rowId<=r.row.max&&o.colId>=r.col.min&&o.colId<=r.col.max},k=function(e){var t=e.selectedCols,o=e.start,r=e.end,c=t[0],a=(null===c||void 0===c?void 0:c.rowSpan)?c.rowSpan-1:0,n=(null===c||void 0===c?void 0:c.colSpan)?c.colSpan-1:0;return!(!o||!r||o.rowId!==r.rowId||o.colId!==r.colId)||(a>0||n>0)&&!!o&&!!r&&r.rowId===o.rowId+a&&r.colId===o.colId+n&&t.length>1},A=o(246),B=Object(O.createReducer)(b).handleAction(w,(function(e,t){var o=t.payload.positionStart;return Object(f.a)(Object(f.a)({},e),{},{touched:!0,selectionState:{selectedCols:[],selected:!1,start:o}})})).handleAction(I,(function(e,t){var o=t.payload,r=o.positionEnd,c=o.finished,a=[],n=e.rows,s=e.selectionState.start;if(c&&s)for(var l=F(s,r),i={rowId:l.row.min,colId:l.col.min},d={rowId:l.row.max,colId:l.col.max},u=i.rowId;u<=d.rowId;u+=1)for(var j={rowId:u},p=i.colId;p<=d.colId;p+=1){var b=n[u-1].cols[p-1].colSpan,O=n[u-1].cols[p-1].rowSpan;a.push(Object(f.a)(Object(f.a)(Object(f.a)({},j),{},{colId:p},O?{rowSpan:O}:{}),b?{colSpan:b}:{}))}return Object(f.a)(Object(f.a)(Object(f.a)({},e),c?{touched:!1}:{}),{},{selectionState:Object(f.a)(Object(f.a)(Object(f.a)({},e.selectionState),{},{selectedCols:a},c?{selected:!0}:{}),{},{end:r})})})).handleAction(h,(function(e){return Object(f.a)(Object(f.a)({},e),{},{selectionState:{selectedCols:[],selected:!1}})})).handleAction(v,(function(e,t){var o=t.payload.rows;return Object(f.a)(Object(f.a)({},e),{},{rows:o})})).handleAction(m,(function(e,t){var o=t.payload.rowId,r=e.rows[o-1],c=r.cols.map((function(e){return{rowId:o,colId:e.id}}));return Object(f.a)(Object(f.a)({},e),{},{selectionState:{selected:!0,selectedCols:c,start:{rowId:o,colId:r.cols[0].id},end:{rowId:o,colId:r.cols[r.cols.length-1].id}}})})).handleAction(_,(function(e,t){for(var o=t.payload.colId,r=[],c=1;c<=e.rows.length;c+=1)r.push({rowId:c,colId:o});return Object(f.a)(Object(f.a)({},e),{},{selectionState:{selected:!0,selectedCols:r,start:{rowId:e.rows[0].id,colId:o},end:{rowId:e.rows[e.rows.length-1].id,colId:o}}})})).handleAction(g,(function(e,t){var o=t.payload.rowId,r=e.rows[o-1],c=e.rows,a=[];return r.cols.forEach((function(e,t){if(e.resources&&e.rowSpan){var r=e.resources,n=null===r||void 0===r?void 0:r.slice(0,r.length-(e.colSpan||1));c[o].cols[t]=Object(f.a)(Object(f.a)({},Object(A.a)(e,["rowSpan","resources"])),e.rowSpan&&e.rowSpan>2?{rowSpan:e.rowSpan-1}:{}),n.length>0&&c[o].cols[t]&&(c[o].cols[t].resources=n)}if(e.resourceFor&&e.resourceFor.rowId!==o){var s=c[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1],l="".concat(e.resourceFor.rowId,"-").concat(e.resourceFor.colId);if(!a.includes(l)){var i;a.push(l);var d=(s.rowSpan||1)-1,u=null===(i=s.resources)||void 0===i?void 0:i.slice(0,s.resources.length-(s.colSpan||1));d>1?c[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1].rowSpan=d:(s=Object(A.a)(s,["rowSpan"]),c[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1]=s),u&&u.length>0?c[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1].resources=u:(s=Object(A.a)(s,["resources"]),c[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1]=s)}}})),c.splice(o-1,1),Object(f.a)(Object(f.a)({},e),{},{selectionState:{selectedCols:[],selected:!1},rows:c.map((function(e,t){var r=e.cols.map((function(e){return Object(f.a)(Object(f.a)({},e),e.resourceFor&&e.resourceFor.rowId>o?{resourceFor:Object(f.a)(Object(f.a)({},e.resourceFor),{},{rowId:e.resourceFor.rowId-1})}:{})}));return Object(f.a)(Object(f.a)({},e),{},{id:t+1,cols:r})}))})})).handleAction(E,(function(e,t){var o=t.payload.colId,r=e.rows,c=[];return r.forEach((function(e,t){var a=e.cols[o-1];if(a.resources&&a.colSpan){var n=a.resources.reduce((function(e,t){return t.colId!==a.id+(a.colSpan||0)-1&&e.push(t),e}),[]);r[t].cols[o]=Object(f.a)(Object(f.a)({},Object(A.a)(a,["colSpan","resources"])),a.colSpan&&a.colSpan>2?{colSpan:a.colSpan-1}:{}),n.length>0&&(r[t].cols[o].resources=n)}if(a.resourceFor&&a.resourceFor.colId!==o){var s=r[a.resourceFor.rowId-1].cols[a.resourceFor.colId-1],l="".concat(a.resourceFor.rowId,"-").concat(a.resourceFor.colId);if(!c.includes(l)){var i;c.push(l);var d=(s.colSpan||1)-1,u=null===(i=s.resources)||void 0===i?void 0:i.reduce((function(e,t){return t.colId!==s.id+(s.colSpan||0)-1&&e.push(t),e}),[]);d>1?r[a.resourceFor.rowId-1].cols[a.resourceFor.colId-1].colSpan=d:(s=Object(A.a)(s,["colSpan"]),r[a.resourceFor.rowId-1].cols[a.resourceFor.colId-1]=s),u&&u.length>0?r[a.resourceFor.rowId-1].cols[a.resourceFor.colId-1].resources=u:(s=Object(A.a)(s,["resources"]),r[a.resourceFor.rowId-1].cols[a.resourceFor.colId-1]=s)}}e.cols.splice(o-1,1),e.cols=e.cols.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t+1})}))})),Object(f.a)(Object(f.a)({},e),{},{selectionState:{selectedCols:[],selected:!1},rows:r.map((function(e,t){var r=e.cols.map((function(e){var t,r=null===(t=e.resources)||void 0===t?void 0:t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{colId:e.colId>o?e.colId-1:e.colId})}));return Object(f.a)(Object(f.a)(Object(f.a)({},e),r?{resources:r}:{}),e.resourceFor&&e.resourceFor.colId>o?{resourceFor:Object(f.a)(Object(f.a)({},e.resourceFor),{},{colId:e.resourceFor.colId-1})}:{})}));return Object(f.a)(Object(f.a)({},e),{},{id:t+1,cols:r})}))})})).handleAction(S,(function(e,t){var o=t.payload,r=o.colId,c=o.rowId,a=o.content,n=e.rows;return n[c-1].cols[r-1].content=a,Object(f.a)(Object(f.a)({},e),{},{rows:n})})).handleAction(C,(function(e,t){var o=t.payload,r=o.colId,c=o.width,a=e.rows.map((function(e){var t=e.cols.map((function(e){return Object(f.a)(Object(f.a)({},e),e.id===r?{width:c}:{})}));return Object(f.a)(Object(f.a)({},e),{},{cols:t})}));return Object(f.a)(Object(f.a)({},e),{},{rows:a})})).handleAction(x,(function(e,t){var o=t.payload,r=o.selectionState,c=o.background,a=e.rows.map((function(e){var t=e.cols.map((function(t){return r.start&&r.end&&y(r.start,r.end,{rowId:e.id,colId:t.id})?Object(f.a)(Object(f.a)({},t),{},{background:c}):t}));return Object(f.a)(Object(f.a)({},e),{},{cols:t})}));return Object(f.a)(Object(f.a)({},e),{},{rows:a})})),R=o(123),T=o(5),N=o.p+"static/media/bold.aaa73dad.svg",M=o(35),D=o.n(M),L=o(1),U=function(e){var t,o=e.children,r=e.onClick,c=e.onMouseDown,a=e.onBlur,n=e.className,l=e.style,i=e.active,u=void 0!==i&&i,j=e.disabled,p=void 0!==j&&j,b=e.small;return Object(L.jsx)("button",{disabled:p,onClick:r?function(e){return r(e)}:void 0,onMouseDown:c?function(e){return c(e)}:void 0,onBlur:a,className:d()(D.a.wrapper,n,(t={},Object(s.a)(t,D.a.active,u),Object(s.a)(t,D.a.disabled,p),Object(s.a)(t,D.a.small,b),t)),style:l,children:o})},P=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("BOLD"))}),[t]);return Object(L.jsx)(U,{active:n,small:!0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(T.RichUtils.toggleInlineStyle(t,"BOLD"))},children:Object(L.jsx)("img",{src:N,alt:""})})},W=o.p+"static/media/italic.8e03cb99.svg",H=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("ITALIC"))}),[t]);return Object(L.jsx)(U,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),o(T.RichUtils.toggleInlineStyle(t,"ITALIC"))},children:Object(L.jsx)("img",{src:W,alt:""})})},V=o.p+"static/media/underline.037f1cd5.svg",G=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("UNDERLINE"))}),[t]);return Object(L.jsx)(U,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),o(T.RichUtils.toggleInlineStyle(t,"UNDERLINE"))},children:Object(L.jsx)("img",{src:V,alt:""})})},J=function(e){switch(e.getType()){case"left":return"align-left";case"center":return"align-center";case"right":return"align-right";default:return""}},K=function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},Q=o.p+"static/media/unordered-list.d3b3a77e.svg",X=function(e){var t=e.setEditorState,o=e.editorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=K(o);s("unordered-list-item"===e)}),[o]);return Object(L.jsx)(U,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),t(T.RichUtils.toggleBlockType(o,"unordered-list-item"))},children:Object(L.jsx)("img",{src:Q,alt:""})})},Z=o.p+"static/media/ordered-list.f732fa03.svg",q=function(e){var t=e.setEditorState,o=e.editorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=K(o);s("ordered-list-item"===e)}),[o]);return Object(L.jsx)(U,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(){t(T.RichUtils.toggleBlockType(o,"ordered-list-item"))},children:Object(L.jsx)("img",{src:Z,alt:""})})},Y=[{label:"header 1",value:"header-one"},{label:"header 2",value:"header-two"},{label:"header 3",value:"header-three"},{label:"header 4",value:"header-four"},{label:"header 5",value:"header-five"},{label:"header 6",value:"header-six"}],z=o(118),$=o.n(z),ee=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState("unstyled"),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){s(K(t))}),[t]);return Object(L.jsxs)("select",{value:n,onChange:function(e){return function(e){s(e.target.value),o(T.RichUtils.toggleBlockType(t,e.target.value))}(e)},className:$.a.wrapper,children:[Object(L.jsx)("option",{value:"unstyled",children:"Unstyled"}),Y.map((function(e){return Object(L.jsx)("option",{value:e.value,children:e.label},e.label)}))]})},te=o.p+"static/media/align-right.9b80b95b.svg",oe=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=K(t);s("right"===e)}),[t]);return Object(L.jsx)(U,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(T.RichUtils.toggleBlockType(t,"right"))},small:!0,children:Object(L.jsx)("img",{src:te,alt:""})})},re=o.p+"static/media/align-left.39c3c5bc.svg",ce=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=K(t);s("left"===e)}),[t]);return Object(L.jsx)(U,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(T.RichUtils.toggleBlockType(t,"left"))},small:!0,children:Object(L.jsx)("img",{src:re,alt:""})})},ae=o.p+"static/media/align-center.6b7955c5.svg",ne=function(e){var t=e.editorState,o=e.setEditorState,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];c.a.useEffect((function(){var e=K(t);s("center"===e)}),[t]);return Object(L.jsx)(U,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(T.RichUtils.toggleBlockType(t,"center"))},small:!0,children:Object(L.jsx)("img",{src:ae,alt:""})})},se=o(36),le=o.n(se),ie=function(e){var t=e.editorState,o=e.setEditorState;return Object(L.jsxs)("div",{className:le.a.wrapper,children:[Object(L.jsx)(P,{editorState:t,setEditorState:o}),Object(L.jsx)(H,{editorState:t,setEditorState:o}),Object(L.jsx)(G,{editorState:t,setEditorState:o}),Object(L.jsx)("div",{className:le.a.separator}),Object(L.jsx)(ce,{editorState:t,setEditorState:o}),Object(L.jsx)(ne,{editorState:t,setEditorState:o}),Object(L.jsx)(oe,{editorState:t,setEditorState:o}),Object(L.jsx)("div",{className:le.a.separator}),Object(L.jsx)(X,{editorState:t,setEditorState:o}),Object(L.jsx)(q,{editorState:t,setEditorState:o}),Object(L.jsx)("div",{className:le.a.separator}),Object(L.jsx)(ee,{editorState:t,setEditorState:o})]})},de=o(119),ue=o.n(de),je=function(e){var t=e.value,o=e.colId,a=e.rowId,n=e.editMode,s=e.setEditMode,i=c.a.useContext(p).dispatch,d=Object(r.useRef)(null),u=c.a.useState(t?T.EditorState.createWithContent(Object(T.convertFromRaw)(t)):T.EditorState.createEmpty()),b=Object(l.a)(u,2),f=b[0],O=b[1];c.a.useEffect((function(){d.current&&d.current.focus()}),[n]);return Object(L.jsx)("div",{className:ue.a.wrapper,children:n?Object(L.jsxs)(j.a,{onOutsideClick:function(){var e=f.getCurrentContent();i(S({rowId:a,colId:o,content:Object(T.convertToRaw)(e)})),s(!1)},children:[n&&Object(L.jsx)(ie,{editorState:f,setEditorState:O}),Object(L.jsx)(T.Editor,{blockStyleFn:J,readOnly:!n,editorState:f,onChange:O,ref:d})]}):Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(R.a)(f.getCurrentContent())}})})},pe=o(51),be=o.n(pe),fe=function(e){var t,o=e.colData,r=e.rowId,a=c.a.useState(!1),n=Object(l.a)(a,2),i=n[0],u=n[1],j=c.a.useState(!1),b=Object(l.a)(j,2),f=b[0],O=b[1],v=c.a.useState({rowId:0,colId:0}),S=Object(l.a)(v,2),x=S[0],m=S[1],g=c.a.useContext(p),_=g.state,C=g.dispatch;if(c.a.useEffect((function(){_.selectionState.start&&_.selectionState.end?u(y(_.selectionState.start,_.selectionState.end,{rowId:r,colId:o.id})):u(!1),m({rowId:o.rowSpan&&_.selectionState.start&&_.selectionState.start.rowId<r?r+o.rowSpan-1:r,colId:o.colSpan&&_.selectionState.start&&_.selectionState.start.colId<o.id?o.id+o.colSpan-1:o.id})}),[_,r,o]),!o.display)return null;return Object(L.jsx)("td",{id:"col-".concat(r,"-").concat(o.id),onMouseDown:function(){_.touched||f?f||C(I({positionEnd:x,finished:!0})):C(w({positionStart:{rowId:r,colId:o.id}}))},onMouseUp:function(){f||C(I({positionEnd:x,finished:!0}))},onMouseEnter:function(){_.touched&&!f&&C(I({positionEnd:{rowId:r,colId:o.id},finished:!1}))},onDoubleClick:function(){C(h()),O(!0)},colSpan:o.colSpan,rowSpan:o.rowSpan,className:d()(be.a.wrapper,(t={},Object(s.a)(t,be.a.selected,i),Object(s.a)(t,be.a.editMode,f),t)),style:{background:o.background},children:"text"===o.type&&Object(L.jsx)(je,{value:o.content,background:o.background,rowId:r,colId:o.id,editMode:f,setEditMode:O})})},Oe={content:"",type:"text",display:!0},we=["#fff1b8","#ffffb8","#f4ffb8","#d9f7be","#b5f5ec","#bae7ff","#d6e4ff","#efdbff","#ffccc7"],Ie=function(e,t){var o=e[t-1],r=e[t],c={id:t+1,cols:[]};o.cols.forEach((function(e,a){var n=Object(f.a)(Object(f.a)({},Oe),{},{id:e.id});if(r){var s=o.cols[a],l=r.cols[a];s.rowSpan&&l.resourceFor&&l.resourceFor.colId===s.id&&l.resourceFor.rowId===o.id?c.cols.push(Object(f.a)(Object(f.a)({},n),{},{display:!1,resourceFor:{rowId:t,colId:e.id}})):s.resourceFor&&l.resourceFor&&l.resourceFor.colId===s.resourceFor.colId&&l.resourceFor.rowId===s.resourceFor.rowId?c.cols.push(Object(f.a)(Object(f.a)({},n),{},{display:!1,resourceFor:s.resourceFor})):c.cols.push(n)}else c.cols.push(n)}));var a=[];c.cols.forEach((function(t){if(t.resourceFor){var o="".concat(t.resourceFor.rowId).concat(t.resourceFor.colId);if(!a.includes(o)){var r=e[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].rowSpan||0;e[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].rowSpan=r+1,a.push(o)}}}));var n=e.map((function(e){if(e.id>t){var o=e.cols.map((function(e){return Object(f.a)(Object(f.a)({},e),e.resourceFor&&e.resourceFor.rowId>t?{resourceFor:Object(f.a)(Object(f.a)({},e.resourceFor),{},{rowId:e.resourceFor.rowId+1})}:e.resourceFor)}));return Object(f.a)(Object(f.a)({},e),{},{id:e.id+1,cols:o})}return e}));return n.splice(t,0,c),n.forEach((function(e){e.cols.forEach((function(t){var o;(t.resources&&(n[e.id-1].cols[t.id-1].resources=[]),t.resourceFor&&n[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1])&&(null===(o=n[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].resources)||void 0===o||o.push({colId:t.id,rowId:e.id}))}))})),n},he=o(66),ve=o.n(he),Se=function(e){var t=e.rowId,o=c.a.useContext(p),r=o.dispatch,a=o.state;return Object(L.jsx)("div",{className:ve.a.wrapper,children:Object(L.jsx)("button",{className:ve.a.addButton,onClick:function(e){e.stopPropagation(),r(v({rows:Ie(a.rows,t)}))},children:"+"})})},xe=o.p+"static/media/close-circle.50ed0904.svg",me=o(120),ge=o.n(me),_e=function(e){var t=e.rowId,o=e.setRowSelected,r=c.a.useContext(p).dispatch;return Object(L.jsx)("button",{className:ge.a.wrapper,onClick:function(e){e.stopPropagation(),r(g({rowId:t})),o(!1)},children:Object(L.jsx)("img",{src:xe,alt:""})})},Ce=o(67),Ee=o.n(Ce),Fe=function(e){var t=e.rowData,o=c.a.useState(!1),r=Object(l.a)(o,2),a=r[0],n=r[1],s=c.a.useContext(p),i=s.state,d=s.dispatch,u=c.a.useState(0),b=Object(l.a)(u,2),f=b[0],O=b[1],w=c.a.useRef(null);return Object(L.jsxs)("tr",{children:[Object(L.jsxs)("td",{ref:w,className:Ee.a.techCol,onClick:function(){var e;(n(!0),d(h()),w.current)&&O(((null===(e=w.current.closest("table"))||void 0===e?void 0:e.offsetWidth)||0)-12)},children:[Object(L.jsx)(Se,{rowId:t.id}),a&&i.rows.length>1&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:Ee.a.selectArea,style:{width:f}}),Object(L.jsx)(j.a,{onOutsideClick:function(){n(!1)},children:Object(L.jsx)(_e,{rowId:t.id,setRowSelected:n})})]})]}),t.cols.map((function(e){return Object(L.jsx)(fe,{colData:e,rowId:t.id},e.id)}))]})},ye=function(e){var t=e.selectionState,o=e.rows,r=t.selectedCols,c=t.start,a=t.end,n=k(t),s=[],l=!1,i={maxColId:0,maxRowId:0,startColId:0,startRowId:0,get:function(){return(this.maxColId-this.startColId+1)*(this.maxRowId-this.startRowId+1)}};return o.forEach((function(e){e.cols.forEach((function(t){if(t.colSpan||t.rowSpan){var o=t.colSpan||0,r=t.rowSpan||0;s.push({row:{min:e.id,max:r?e.id+r-1:e.id},col:{min:t.id,max:o?t.id+o-1:t.id}})}}))})),r.forEach((function(e,t){var o=e.colSpan?e.colId+e.colSpan-1:e.colId,r=e.rowSpan?e.rowId+e.rowSpan-1:e.rowId;o>i.maxColId&&(i.maxColId=o),r>i.maxRowId&&(i.maxRowId=r),0===t&&(i.startColId=e.colId,i.startRowId=e.rowId)})),s.forEach((function(e){c&&a&&!l&&("part"===function(e,t){var o=Math.max(e.col.min-1,t.col.min-1),r=Math.min(e.col.max,t.col.max),c=Math.max(e.row.min-1,t.row.min-1),a=Math.min(e.row.max,t.row.max),n=(e.col.max-e.col.min+1)*(e.row.max-e.row.min+1);return o<r&&c<a?(r-o)*(a-c)===n?"full":"part":"not"}(e,{row:{min:c.rowId,max:a.rowId},col:{min:c.colId,max:a.colId}})&&(l=!0))})),!n&&i.get()===r.length&&!l},ke=function(){var e=c.a.useContext(p),t=e.state,o=e.dispatch;return Object(L.jsx)("li",{children:Object(L.jsx)("button",{disabled:!ye(t),onClick:function(){!function(e,t){var o=e.selectionState,r=e.rows,c=[],a=o.selectedCols,n={rowId:a[0].rowId,colId:a[0].colId},s={prevRowId:a[0].rowId,prevColId:0,count:0},l={prevRowId:0,count:0};a.forEach((function(e,t){e.colId!==s.prevColId&&e.rowId===s.prevRowId&&(s.prevColId=e.colId,s.count+=1,a.length===t-1&&e.colSpan&&(s.count+=e.colSpan)),e.rowId!==l.prevRowId&&(l.prevRowId=e.rowId,l.count+=1,o.selectedCols.length===t-1&&e.rowSpan&&(l.count+=e.rowSpan))}));var i=r.map((function(e){var t=e.cols.map((function(t){var r={rowId:e.id,colId:t.id},a=n.rowId===e.id&&n.colId===t.id,i=y(o.start,o.end,r);return a&&s.count>1&&(t.colSpan=s.count),a&&l.count>1&&(t.rowSpan=l.count),i&&!a&&c.push(r),Object(f.a)(Object(f.a)(Object(f.a)({},i&&!a?Object(A.a)(t,["colSpan","rowSpan"]):t),a?{resources:[]}:{}),i&&!a?{display:!1,resourceFor:n}:{})}));return Object(f.a)(Object(f.a)({},e),{},{cols:t})}));i[n.rowId-1].cols[n.colId-1].resources=c,t(v({rows:i})),t(h())}(t,o)},children:"Merge"})})},Ae=function(){var e=c.a.useContext(p),t=e.state,o=e.dispatch,r=c.a.useState(!1),a=Object(l.a)(r,2),n=a[0],s=a[1];return c.a.useEffect((function(){var e,o=t.selectionState.start;if(o){var r=t.rows[(e=o).rowId-1].cols[e.colId-1];(r.colSpan||r.rowSpan)&&k(t.selectionState)&&s(!0)}}),[t]),Object(L.jsx)("li",{children:Object(L.jsx)("button",{disabled:!n,onClick:function(){!function(e,t){var o=e.selectionState,r=e.rows,c=o.selectedCols[0],a=r[c.rowId-1].cols[c.colId-1];a&&a.resources&&a.resources.forEach((function(e){var t=r[e.rowId-1].cols[e.colId-1];r[e.rowId-1].cols[e.colId-1]=Object(f.a)(Object(f.a)({},Object(A.a)(t,["resourceFor"])),{},{display:!0})})),r[c.rowId-1].cols[c.colId-1]=Object(A.a)(a,["resources","colSpan","rowSpan"]),t(v({rows:r})),t(h())}(t,o)},children:"Unmerge"})})},Be=o(30),Re=o.n(Be),Te=function(){var e=c.a.useContext(p),t=e.state,o=e.dispatch,r=function(e){o(x({selectionState:t.selectionState,background:e}))};return Object(L.jsxs)("li",{className:Re.a.wrapper,children:[Object(L.jsx)("button",{children:"Background color"}),Object(L.jsxs)("div",{className:Re.a.colors,children:[Object(L.jsx)("button",{onClick:function(){return r(void 0)},className:d()(Re.a.colorButton,Re.a.transparent)}),we.map((function(e){return Object(L.jsx)("button",{onClick:function(){return r(e)},style:{background:e},className:Re.a.colorButton},e)}))]})]})},Ne=o.p+"static/media/setting.5524b19c.svg",Me=o(37),De=o.n(Me),Le=function(){var e=c.a.useContext(p).state,t=c.a.useState(),o=Object(l.a)(t,2),r=o[0],a=o[1],n=c.a.useState(!1),i=Object(l.a)(n,2),u=i[0],b=i[1];return c.a.useEffect((function(){e.selectionState.start&&e.selectionState.end&&a(function(e,t){var o=F(e,t),r=document.getElementById("col-".concat(o.row.min,"-").concat(o.col.min));return r?{top:r.offsetTop+5,left:r.offsetLeft+5}:{top:0,left:0}}(e.selectionState.start,e.selectionState.end))}),[e]),Object(L.jsxs)("div",{className:d()(De.a.wrapper,Object(s.a)({},De.a.selected,e.selectionState.selected&&e.selectionState.selectedCols.length>0)),style:r,children:[Object(L.jsx)(U,{onClick:function(){return b(!u)},className:De.a.settingButton,children:Object(L.jsx)("img",{src:Ne,alt:""})}),u&&Object(L.jsx)(j.a,{onOutsideClick:function(){return b(!1)},children:Object(L.jsxs)("ul",{className:De.a.menu,children:[Object(L.jsx)(Te,{}),Object(L.jsx)(ke,{}),Object(L.jsx)(Ae,{})]})})]})},Ue=function(e,t){var o=e.map((function(e){var o,r,c=e.cols.map((function(e){return e.id>t?Object(f.a)(Object(f.a)(Object(f.a)({},e),{},{id:e.id+1},e.resources?{resources:e.resources.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{colId:e.colId+1})}))}:{}),e.resourceFor&&e.resourceFor.colId>t?{resourceFor:Object(f.a)(Object(f.a)({},e.resourceFor),{},{colId:e.resourceFor.colId+1})}:e.resourceFor):e})),a=c[t-1]&&c[t-1].resourceFor&&c[t]&&c[t].resourceFor&&(null===(o=c[t-1].resourceFor)||void 0===o?void 0:o.colId)===(null===(r=c[t].resourceFor)||void 0===r?void 0:r.colId),n=Object(f.a)(Object(f.a)(Object(f.a)({id:t+1},Oe),c[t-1]&&c[t-1].colSpan?{display:!1,resourceFor:{rowId:e.id,colId:c[t-1].id}}:{}),a?{display:!1,resourceFor:c[t-1].resourceFor}:{});if(c[t-1]&&c[t-1].colSpan&&(c[t-1].colSpan+=1),a){var s=c[t-1].resourceFor;s&&c[s.colId-1]&&(c[s.colId-1].colSpan+=1)}return c.splice(t,0,n),Object(f.a)(Object(f.a)({},e),{},{cols:c})}));return o.forEach((function(e){e.cols.forEach((function(t){var r,c;(t.resources&&(o[e.id-1].cols[t.id-1].resources=[]),t.resourceFor)&&(null===(r=o[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1])||void 0===r||null===(c=r.resources)||void 0===c||c.push({colId:t.id,rowId:e.id}))}))})),o},Pe=o(68),We=o.n(Pe),He=function(e){var t=e.colId,o=c.a.useContext(p),r=o.dispatch,a=o.state;return Object(L.jsx)("div",{className:We.a.wrapper,children:Object(L.jsx)("button",{className:We.a.addButton,onClick:function(e){e.stopPropagation(),r(v({rows:Ue(a.rows,t)}))},children:"+"})})},Ve=o.p+"static/media/close-circle.50ed0904.svg",Ge=o(121),Je=o.n(Ge),Ke=function(e){var t=e.colId,o=e.setColSelected,r=c.a.useContext(p).dispatch;return Object(L.jsx)("button",{className:Je.a.wrapper,onClick:function(e){e.stopPropagation(),r(E({colId:t})),o(!1)},children:Object(L.jsx)("img",{src:Ve,alt:""})})},Qe=o(122),Xe=o.n(Qe),Ze=function(e){var t=e.tableHeight,o=e.colId,a=c.a.useContext(p),n=a.state,s=a.dispatch,i=Object(r.useState)(!1),d=Object(l.a)(i,2),u=d[0],j=d[1],b=Object(r.useState)(0),f=Object(l.a)(b,2),O=f[0],w=f[1],I=Object(r.useState)(0),v=Object(l.a)(I,2),S=v[0],x=v[1],m=Object(r.useState)(0),g=Object(l.a)(m,2),_=g[0],E=g[1],F=function(e){e.stopPropagation(),u&&(s(C({colId:o,width:O-_})),E(0),j(!1))};return n.rows[0].cols.length===o?null:Object(L.jsx)("div",{onMouseDown:function(e){e.stopPropagation(),s(h()),j(!0),x(e.screenX+_)},onMouseUp:F,onMouseLeave:F,onMouseMove:function(e){e.stopPropagation(),u&&O-_>10&&E(S-e.screenX)},onClick:function(e){return e.stopPropagation()},ref:function(e){var t;return w((null===e||void 0===e||null===(t=e.closest("td"))||void 0===t?void 0:t.offsetWidth)||0)},className:Xe.a.wrapper,style:{height:t,right:_}})},qe=o(69),Ye=o.n(qe),ze=function(e){var t,o=e.colId,r=c.a.useContext(p),a=r.state,n=r.dispatch,s=c.a.useState(!1),i=Object(l.a)(s,2),d=i[0],u=i[1],b=c.a.useState(0),f=Object(l.a)(b,2),O=f[0],w=f[1];return Object(L.jsxs)("td",{ref:function(e){var t;return w(((null===e||void 0===e||null===(t=e.closest("table"))||void 0===t?void 0:t.offsetHeight)||0)-12)},onClick:function(){n(h()),u(!0)},className:Ye.a.techCol,style:{width:a.rows[0].cols.length>1?null===(t=a.rows[0].cols[o-1])||void 0===t?void 0:t.width:"auto"},children:[Object(L.jsx)(He,{colId:o}),Object(L.jsx)(Ze,{tableHeight:O,colId:o}),a.rows[0].cols.length>1&&d&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:Ye.a.selectArea,style:{height:O}}),Object(L.jsx)(j.a,{onOutsideClick:function(){u(!1)},children:Object(L.jsx)(Ke,{colId:o,setColSelected:u})})]})]})},$e=function(){var e=c.a.useContext(p).state,t=c.a.useState([]),o=Object(l.a)(t,2),r=o[0],a=o[1];return c.a.useEffect((function(){a(Array(function(e){var t=0;return e.forEach((function(e){e.cols.length>t&&(t=e.cols.length)})),t}(e.rows)).fill({}).map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{id:t+1})})))}),[e]),e.rows.length?Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{style:{width:10}}),r.map((function(e){return Object(L.jsx)(ze,{colId:e.id},e.id)}))]}):null},et=o(52),tt=o.n(et),ot=function(e){var t=e.onChange,o=c.a.useReducer(B,b),r=Object(l.a)(o,2),a=r[0],n=r[1];c.a.useEffect((function(){t&&"function"===typeof t&&t(a.rows)}),[a,t]);return Object(L.jsx)(p.Provider,{value:{dispatch:n,state:a},children:Object(L.jsx)("div",{className:d()(tt.a.wrapper,"notranslate"),children:Object(L.jsxs)(j.a,{onOutsideClick:function(){n(h())},children:[Object(L.jsx)("table",{className:d()(tt.a.table,Object(s.a)({},tt.a.filled,!!a.rows.length)),children:Object(L.jsxs)("tbody",{children:[Object(L.jsx)($e,{}),a.rows.map((function(e){return Object(L.jsx)(Fe,{rowData:e},e.id)}))]})}),Object(L.jsx)(Le,{})]})})})};var rt=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(ot,{})})};n.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(rt,{})}),document.getElementById("root"))},30:function(e,t,o){e.exports={wrapper:"ChangeBackground_wrapper__2Uwxj",colors:"ChangeBackground_colors__Je-TV",colorButton:"ChangeBackground_colorButton__2QEDl",transparent:"ChangeBackground_transparent__mqomV"}},35:function(e,t,o){e.exports={wrapper:"Button_wrapper__pj90c",active:"Button_active__FWtIw",disabled:"Button_disabled__1AAMG",small:"Button_small__2T4PP"}},36:function(e,t,o){e.exports={wrapper:"Panel_wrapper__44pnv",separator:"Panel_separator__2tHYB"}},37:function(e,t,o){e.exports={wrapper:"SelectionMenu_wrapper__2E3fb",selected:"SelectionMenu_selected__1dW4V",settingButton:"SelectionMenu_settingButton__2RZd1",menu:"SelectionMenu_menu__3_fZg"}},51:function(e,t,o){e.exports={wrapper:"Col_wrapper__3FddR",selected:"Col_selected__29n3t",editMode:"Col_editMode__3GAwp"}},52:function(e,t,o){e.exports={wrapper:"Table_wrapper__2oJSk",table:"Table_table__3Cw9e",filled:"Table_filled__wq5i1"}},66:function(e,t,o){e.exports={wrapper:"AddRow_wrapper__3NW4Q",addButton:"AddRow_addButton__1hGob"}},67:function(e,t,o){e.exports={techCol:"Row_techCol__HSNZB",active:"Row_active__1oG0c",selectArea:"Row_selectArea__X8N3B",blinker:"Row_blinker__6_-6l"}},68:function(e,t,o){e.exports={wrapper:"AddCol_wrapper__OkM3j",addButton:"AddCol_addButton__2VG6f"}},69:function(e,t,o){e.exports={techCol:"TechCol_techCol__3-ePx",selectArea:"TechCol_selectArea__1hdFm",blinker:"TechCol_blinker__3LS_s"}}},[[245,1,2]]]);
//# sourceMappingURL=main.76e5bf4b.chunk.js.map