(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{125:function(e,t,o){e.exports={input:"InsertImage_input__UORoF"}},126:function(e,t,o){e.exports={wrapper:"ImageMenu_wrapper__hyI8u"}},128:function(e,t,o){e.exports={select:"ChangeSize_select__2PxxQ"}},129:function(e,t,o){e.exports={wrapper:"KatexMenu_wrapper__1QQ__"}},130:function(e,t,o){e.exports={wrapper:"RemoveRow_wrapper__QxJap"}},131:function(e,t,o){e.exports={wrapper:"RemoveCol_wrapper__2M4QV"}},132:function(e,t,o){e.exports={wrapper:"ChangeWidth_wrapper__Ul3dY"}},254:function(e,t,o){"use strict";o.r(t);var c,r,n=o(1),a=o.n(n),s=o(69),l=o.n(s),i=o(8),d=o(3),u=(o(137),o(138),o(10)),j=o.n(u),f=o(11),b=o.n(f),p=n.createContext(null),O={touched:!1,selectionState:{selectedCols:[],selected:!1}},S=[{id:1,cols:[{content:"",type:"text",display:!0,id:1},{content:"",type:"text",display:!0,id:2}]}],h=o(2),w=o(12),v=o(255),x=Object(w.createStandardAction)("TABLE/SET_START_SELECTION")(),I=Object(w.createStandardAction)("TABLE/SET_END_SELECTION")(),g=Object(w.createStandardAction)("TABLE/CLEAR_SELECTION")(),m=Object(w.createStandardAction)("TABLE/SELECT_ROW")(),_=Object(w.createStandardAction)("TABLE/SELECT_COL")(),C=Object(w.createStandardAction)("TABLE/ROWS_UPDATE")(),E=Object(w.createStandardAction)("TABLE/UPDATE_COL_CONTENT")(),y=Object(w.createStandardAction)("TABLE/UPDATE_COL_BACKGROUND")(),k=Object(w.createStandardAction)("TABLE/UPDATE_COL_TYPE")(),F=Object(w.createStandardAction)("TABLE/REMOVE_ROW")(),B=Object(w.createStandardAction)("TABLE/SET_COL_WIDTH")(),R=Object(w.createStandardAction)("TABLE/REMOVE_COL")(),T={setStartSelection:x,setEndSelection:I,clearSelection:g,selectCol:_,selectRow:m},A={rowsUpdate:C,updateColContent:E,updateColBackground:y,updateColType:k,removeRow:F,setColWidth:B,removeCol:R},N=function(e,t){return{row:{min:e.rowId<t.rowId?e.rowId:t.rowId,max:e.rowId<t.rowId?t.rowId:e.rowId},col:{min:e.colId<t.colId?e.colId:t.colId,max:e.colId<t.colId?t.colId:e.colId}}},M=function(e,t,o){var c=N(e,t);return o.rowId>=c.row.min&&o.rowId<=c.row.max&&o.colId>=c.col.min&&o.colId<=c.col.max},D=function(e){var t=e.selectedCols,o=e.start,c=e.end,r=t[0],n=(null===r||void 0===r?void 0:r.rowSpan)?r.rowSpan-1:0,a=(null===r||void 0===r?void 0:r.colSpan)?r.colSpan-1:0;return!(!o||!c||o.rowId!==c.rowId||o.colId!==c.colId)||(n>0||a>0)&&!!o&&!!c&&c.rowId===o.rowId+n&&c.colId===o.colId+a&&t.length>1},K=Object(w.createReducer)(O).handleAction(T.setStartSelection,(function(e,t){return{touched:!0,selectionState:{selectedCols:[],selected:!1,start:t.payload.positionStart}}})).handleAction(T.setEndSelection,(function(e,t){var o=t.payload,c=o.positionEnd,r=o.finished,n=o.rows,a=[],s=e.selectionState.start;if(r&&s)for(var l=N(s,c),i={rowId:l.row.min,colId:l.col.min},d={rowId:l.row.max,colId:l.col.max},u=i.rowId;u<=d.rowId;u+=1)for(var j={rowId:u},f=i.colId;f<=d.colId;f+=1){var b=n[u-1].cols[f-1].colSpan,p=n[u-1].cols[f-1].rowSpan;a.push(Object(h.a)(Object(h.a)(Object(h.a)({},j),{},{colId:f},p?{rowSpan:p}:{}),b?{colSpan:b}:{}))}return Object(h.a)(Object(h.a)(Object(h.a)({},e),r?{touched:!1}:{}),{},{selectionState:Object(h.a)(Object(h.a)(Object(h.a)({},e.selectionState),{},{selectedCols:a},r?{selected:!0}:{}),{},{end:c})})})).handleAction(T.clearSelection,(function(e){return Object(h.a)(Object(h.a)({},e),{},{selectionState:{selectedCols:[],selected:!1}})})).handleAction(T.selectRow,(function(e,t){var o=t.payload,c=o.rowId,r=o.rows[c-1],n=r.cols.map((function(e){return{rowId:c,colId:e.id}}));return Object(h.a)(Object(h.a)({},e),{},{selectionState:{selected:!0,selectedCols:n,start:{rowId:c,colId:r.cols[0].id},end:{rowId:c,colId:r.cols[r.cols.length-1].id}}})})).handleAction(T.selectCol,(function(e,t){for(var o=t.payload,c=o.colId,r=o.rows,n=[],a=1;a<=r.length;a+=1)n.push({rowId:a,colId:c});return Object(h.a)(Object(h.a)({},e),{},{selectionState:{selected:!0,selectedCols:n,start:{rowId:r[0].id,colId:c},end:{rowId:r[r.length-1].id,colId:c}}})})),L=Object(w.createReducer)(S).handleAction(A.rowsUpdate,(function(e,t){return t.payload.rows})).handleAction(A.updateColBackground,(function(e,t){var o=t.payload,c=o.selectionState,r=o.background;return e.map((function(e){var t=e.cols.map((function(t){return c.start&&c.end&&M(c.start,c.end,{rowId:e.id,colId:t.id})?Object(h.a)(Object(h.a)({},t),{},{background:r}):t}));return Object(h.a)(Object(h.a)({},e),{},{cols:t})}))})).handleAction(A.updateColType,(function(e,t){var o=t.payload,c=o.selectionState,r=o.type;return e.map((function(e){var t=e.cols.map((function(t){return c.start&&c.end&&M(c.start,c.end,{rowId:e.id,colId:t.id})?Object(h.a)(Object(h.a)({},t),{},{type:r}):t}));return Object(h.a)(Object(h.a)({},e),{},{cols:t})}))})).handleAction(A.setColWidth,(function(e,t){var o=t.payload,c=o.colId,r=o.width;return e.map((function(e){var t=e.cols.map((function(e){return Object(h.a)(Object(h.a)({},e),e.id===c?{width:r}:{})}));return Object(h.a)(Object(h.a)({},e),{},{cols:t})}))})).handleAction(A.updateColContent,(function(e,t){var o=t.payload,c=o.colId,r=o.rowId,n=o.content;return e.map((function(e){return Object(h.a)(Object(h.a)({},e),e.id===r?{cols:e.cols.map((function(e){return Object(h.a)(Object(h.a)({},e),e.id===c?Object(h.a)(Object(h.a)({},e),{},{content:n}):e)}))}:{})}))})).handleAction(A.removeCol,(function(e,t){var o=t.payload.colId,c=e,r=[];return c.forEach((function(e,t){var n=e.cols[o-1];if(n.resources&&n.colSpan){var a=n.resources.reduce((function(e,t){return t.colId!==n.id+(n.colSpan||0)-1&&e.push(t),e}),[]);c[t].cols[o]=Object(h.a)(Object(h.a)({},Object(v.a)(n,["colSpan","resources"])),n.colSpan&&n.colSpan>2?{colSpan:n.colSpan-1}:{}),a.length>0&&(c[t].cols[o].resources=a)}if(n.resourceFor&&n.resourceFor.colId!==o){var s=c[n.resourceFor.rowId-1].cols[n.resourceFor.colId-1],l="".concat(n.resourceFor.rowId,"-").concat(n.resourceFor.colId);if(!r.includes(l)){var i;r.push(l);var d=(s.colSpan||1)-1,u=null===(i=s.resources)||void 0===i?void 0:i.reduce((function(e,t){return t.colId!==s.id+(s.colSpan||0)-1&&e.push(t),e}),[]);d>1?c[n.resourceFor.rowId-1].cols[n.resourceFor.colId-1].colSpan=d:(s=Object(v.a)(s,["colSpan"]),c[n.resourceFor.rowId-1].cols[n.resourceFor.colId-1]=s),u&&u.length>0?c[n.resourceFor.rowId-1].cols[n.resourceFor.colId-1].resources=u:(s=Object(v.a)(s,["resources"]),c[n.resourceFor.rowId-1].cols[n.resourceFor.colId-1]=s)}}e.cols.splice(o-1,1),e.cols=e.cols.map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t+1})}))})),c.map((function(e,t){var c=e.cols.map((function(e){var t,c=null===(t=e.resources)||void 0===t?void 0:t.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{colId:e.colId>o?e.colId-1:e.colId})}));return Object(h.a)(Object(h.a)(Object(h.a)({},e),c?{resources:c}:{}),e.resourceFor&&e.resourceFor.colId>o?{resourceFor:Object(h.a)(Object(h.a)({},e.resourceFor),{},{colId:e.resourceFor.colId-1})}:{})}));return Object(h.a)(Object(h.a)({},e),{},{id:t+1,cols:c})}))})).handleAction(A.removeRow,(function(e,t){var o=t.payload.rowId,c=e[o-1],r=e,n=[];return c.cols.forEach((function(e,t){if(e.resources&&e.rowSpan){var c=e.resources,a=null===c||void 0===c?void 0:c.slice(0,c.length-(e.colSpan||1));r[o].cols[t]=Object(h.a)(Object(h.a)({},Object(v.a)(e,["rowSpan","resources"])),e.rowSpan&&e.rowSpan>2?{rowSpan:e.rowSpan-1}:{}),a.length>0&&r[o].cols[t]&&(r[o].cols[t].resources=a)}if(e.resourceFor&&e.resourceFor.rowId!==o){var s=r[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1],l="".concat(e.resourceFor.rowId,"-").concat(e.resourceFor.colId);if(!n.includes(l)){var i;n.push(l);var d=(s.rowSpan||1)-1,u=null===(i=s.resources)||void 0===i?void 0:i.slice(0,s.resources.length-(s.colSpan||1));d>1?r[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1].rowSpan=d:(s=Object(v.a)(s,["rowSpan"]),r[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1]=s),u&&u.length>0?r[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1].resources=u:(s=Object(v.a)(s,["resources"]),r[e.resourceFor.rowId-1].cols[e.resourceFor.colId-1]=s)}}})),r.splice(o-1,1),r.map((function(e,t){var c=e.cols.map((function(e){return Object(h.a)(Object(h.a)({},e),e.resourceFor&&e.resourceFor.rowId>o?{resourceFor:Object(h.a)(Object(h.a)({},e.resourceFor),{},{rowId:e.resourceFor.rowId-1})}:{})}));return Object(h.a)(Object(h.a)({},e),{},{id:t+1,cols:c})}))})),U=o(4),z=function(e){var t=e.getType(),o="";return t.indexOf("left")>-1&&(o="".concat(o," align-left")),t.indexOf("center")>-1&&(o="".concat(o," align-center")),t.indexOf("right")>-1&&(o="".concat(o," align-right")),t.indexOf("floatLeft")>-1&&(o="".concat(o," float-left")),t.indexOf("floatRight")>-1&&(o="".concat(o," float-right")),o},P=function(e,t){return e.getCurrentContent().getBlockForKey(t).getType()},W=function(e,t){return e.getSelection().merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0})},H=function(e,t,o){return U.EditorState.push(e,U.Modifier.setBlockType(e.getCurrentContent(),t,o),"change-block-type")},Q=o.p+"static/media/bold.aaa73dad.svg",G=o(36),J=o.n(G),V=o(0),X=function(e){var t,o=e.children,c=e.onClick,r=e.onMouseDown,n=e.onBlur,a=e.className,s=e.style,l=e.active,d=void 0!==l&&l,u=e.disabled,f=void 0!==u&&u,b=e.small;return Object(V.jsx)("button",{disabled:f,onClick:c?function(e){return c(e)}:void 0,onMouseDown:r?function(e){return r(e)}:void 0,onBlur:n,className:j()(J.a.wrapper,a,(t={},Object(i.a)(t,J.a.active,d),Object(i.a)(t,J.a.disabled,f),Object(i.a)(t,J.a.small,b),t)),style:s,children:o})},q=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("BOLD"))}),[t]);return Object(V.jsx)(X,{active:n,small:!0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(U.RichUtils.toggleInlineStyle(t,"BOLD"))},children:Object(V.jsx)("img",{src:Q,alt:""})})},Z=o.p+"static/media/italic.8e03cb99.svg",Y=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("ITALIC"))}),[t]);return Object(V.jsx)(X,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),o(U.RichUtils.toggleInlineStyle(t,"ITALIC"))},children:Object(V.jsx)("img",{src:Z,alt:""})})},$=o.p+"static/media/underline.037f1cd5.svg",ee=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=t.getCurrentInlineStyle();s(e.has("UNDERLINE"))}),[t]);return Object(V.jsx)(X,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),o(U.RichUtils.toggleInlineStyle(t,"UNDERLINE"))},children:Object(V.jsx)("img",{src:$,alt:""})})},te=o.p+"static/media/unordered-list.d3b3a77e.svg",oe=function(e){var t=e.setEditorState,o=e.editorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=U.RichUtils.getCurrentBlockType(o);s("unordered-list-item"===e)}),[o]);return Object(V.jsx)(X,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(e){e.preventDefault(),t(U.RichUtils.toggleBlockType(o,"unordered-list-item"))},children:Object(V.jsx)("img",{src:te,alt:""})})},ce=o.p+"static/media/ordered-list.f732fa03.svg",re=function(e){var t=e.setEditorState,o=e.editorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=U.RichUtils.getCurrentBlockType(o);s("ordered-list-item"===e)}),[o]);return Object(V.jsx)(X,{onMouseDown:function(e){return e.preventDefault()},active:n,small:!0,onClick:function(){t(U.RichUtils.toggleBlockType(o,"ordered-list-item"))},children:Object(V.jsx)("img",{src:ce,alt:""})})},ne=[{label:"header 1",value:"header-one"},{label:"header 2",value:"header-two"},{label:"header 3",value:"header-three"},{label:"header 4",value:"header-four"},{label:"header 5",value:"header-five"},{label:"header 6",value:"header-six"}],ae=function(e){var t="unstyled";return ne.forEach((function(o){o.value===e&&(t=o.label)})),t},se=o(28),le=o.n(se),ie=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState("unstyled"),r=Object(d.a)(c,2),n=r[0],s=r[1],l=a.a.useState(!1),i=Object(d.a)(l,2),u=i[0],j=i[1];a.a.useEffect((function(){s(U.RichUtils.getCurrentBlockType(t))}),[t]);var f=function(e){s(e),o(U.RichUtils.toggleBlockType(t,e)),j(!1)};return Object(V.jsxs)("div",{className:le.a.select,children:[Object(V.jsx)(X,{onClick:function(){return j(!u)},small:!0,className:le.a.openButton,onMouseDown:function(e){return e.preventDefault()},children:ae(n)}),u&&Object(V.jsxs)("ul",{className:le.a.list,children:[Object(V.jsx)("li",{children:Object(V.jsx)("button",{value:"unstyled",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return f("unstyled")},className:le.a.header,children:"unstyled"})}),ne.map((function(e){return Object(V.jsx)("li",{children:Object(V.jsx)("button",{onMouseDown:function(e){return e.preventDefault()},onClick:function(){return f(e.value)},className:le.a.header,children:e.label})},e.label)}))]})]})},de=o.p+"static/media/align-right.9b80b95b.svg",ue=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=U.RichUtils.getCurrentBlockType(t);s("right"===e)}),[t]);return Object(V.jsx)(X,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(U.RichUtils.toggleBlockType(t,"right"))},small:!0,children:Object(V.jsx)("img",{src:de,alt:""})})},je=o.p+"static/media/align-left.39c3c5bc.svg",fe=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=U.RichUtils.getCurrentBlockType(t);s("left"===e)}),[t]);return Object(V.jsx)(X,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(U.RichUtils.toggleBlockType(t,"left"))},small:!0,children:Object(V.jsx)("img",{src:je,alt:""})})},be=o.p+"static/media/align-center.6b7955c5.svg",pe=function(e){var t=e.editorState,o=e.setEditorState,c=a.a.useState(!1),r=Object(d.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){var e=U.RichUtils.getCurrentBlockType(t);s("center"===e)}),[t]);return Object(V.jsx)(X,{active:n,onMouseDown:function(e){return e.preventDefault()},onClick:function(){o(U.RichUtils.toggleBlockType(t,"center"))},small:!0,children:Object(V.jsx)("img",{src:be,alt:""})})},Oe=o.p+"static/media/picture.3e97766c.svg",Se=n.createContext(null),he=o(125),we=o.n(he),ve=function(){var e=a.a.useContext(Se),t=e.editorState,o=e.setEditorState,c=a.a.useRef(null);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("input",{ref:c,type:"file",onChange:function(){var e;c.current&&(e=c.current,new Promise((function(t,o){var c=e.files,r=new FileReader;c&&r.readAsDataURL(c[0]),r.onload=function(){t(r.result)},r.onerror=function(e){return o(e)}}))).then((function(e){var c=t.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:e}),r=c.getLastCreatedEntityKey(),n=U.EditorState.set(t,{currentContent:c});o(U.AtomicBlockUtils.insertAtomicBlock(n,r," "))}))},className:we.a.input}),Object(V.jsx)(X,{small:!0,onMouseDown:function(e){return e.preventDefault()},onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:Object(V.jsx)("img",{src:Oe,alt:""})})]})},xe=o(70),Ie=o.p+"static/media/function.4b8d7631.svg",ge=o(29),me=o.n(ge),_e=function(){var e=a.a.useContext(Se),t=e.editorState,o=e.setEditorState,n=a.a.useState(!1),s=Object(d.a)(n,2),l=s[0],u=s[1],f=a.a.useState(String.raw(c||(c=Object(xe.a)(["c = pmsqrt{a^2 + b^2}"],["c = \\pm\\sqrt{a^2 + b^2}"])))),b=Object(d.a)(f,2),p=b[0],O=b[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X,{small:!0,onClick:function(){u(!l)},children:Object(V.jsx)("img",{src:Ie,alt:""})}),Object(V.jsxs)("div",{className:j()(me.a.wrapper,Object(i.a)({},me.a.opened,l)),children:["Type an expression",Object(V.jsx)("textarea",{value:p,onChange:function(e){O(String.raw(r||(r=Object(xe.a)(["",""])),e.target.value))},className:me.a.textarea}),Object(V.jsxs)("div",{className:me.a.buttons,children:[Object(V.jsx)(X,{small:!0,onClick:function(){u(!1)},children:"Cancel"}),Object(V.jsx)(X,{small:!0,onClick:function(){var e=t.getCurrentContent().createEntity("KATEX","IMMUTABLE",{expression:p,size:"size1"}),c=e.getLastCreatedEntityKey(),r=U.EditorState.set(t,{currentContent:e});o(U.AtomicBlockUtils.insertAtomicBlock(r,c," ")),u(!1),O("")},className:me.a.insertButton,children:"Insert"})]})]})]})},Ce=o(30),Ee=o.n(Ce),ye=function(e){var t=e.editorState,o=e.setEditorState;return Object(V.jsxs)("div",{className:Ee.a.wrapper,children:[Object(V.jsx)(q,{editorState:t,setEditorState:o}),Object(V.jsx)(Y,{editorState:t,setEditorState:o}),Object(V.jsx)(ee,{editorState:t,setEditorState:o}),Object(V.jsx)("div",{className:Ee.a.separator}),Object(V.jsx)(fe,{editorState:t,setEditorState:o}),Object(V.jsx)(pe,{editorState:t,setEditorState:o}),Object(V.jsx)(ue,{editorState:t,setEditorState:o}),Object(V.jsx)("div",{className:Ee.a.separator}),Object(V.jsx)(oe,{editorState:t,setEditorState:o}),Object(V.jsx)(re,{editorState:t,setEditorState:o}),Object(V.jsx)("div",{className:Ee.a.separator}),Object(V.jsx)(ve,{}),Object(V.jsx)(_e,{}),Object(V.jsx)("div",{className:Ee.a.separator}),Object(V.jsx)(ie,{editorState:t,setEditorState:o})]})},ke=o.p+"static/media/delete.a12f546f.svg",Fe=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.editorState,r=o.setEditorState;return Object(V.jsx)(X,{onClick:function(){r(function(e,t){var o=e.getCurrentContent(),c=o.getBlockForKey(t),r=o.getBlockBefore(c.getKey()),n=o.getBlockAfter(c.getKey()),a=e.getSelection().merge({anchorKey:null===r||void 0===r?void 0:r.getKey(),anchorOffset:0,focusKey:null===n||void 0===n?void 0:n.getKey(),focusOffset:0}),s=U.Modifier.applyEntity(o,a,null),l=U.EditorState.push(e,s,"apply-entity"),i=U.Modifier.removeRange(s,a,"backward");return U.EditorState.push(l,i,"remove-range")}(c,t))},children:Object(V.jsx)("img",{src:ke,alt:""})})},Be=o.p+"static/media/pic-left.55843bb4.svg",Re=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.editorState,r=o.setEditorState,n=a.a.useState(!1),s=Object(d.a)(n,2),l=s[0],i=s[1];a.a.useEffect((function(){var e=P(c,t);i(-1!==e.indexOf("floatLeft"))}),[c,t]);return Object(V.jsx)(X,{active:l,onMouseDown:function(e){return e.preventDefault()},onClick:function(){if(!l){var e=c.getSelection(),o=W(c,t),n=U.EditorState.acceptSelection(c,o);r(H(n,n.getSelection(),"atomic floatLeft")),r((function(t){return U.EditorState.acceptSelection(t,e)}))}},children:Object(V.jsx)("img",{src:Be,alt:""})})},Te=o.p+"static/media/pic-right.9b35e01a.svg",Ae=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.editorState,r=o.setEditorState,n=a.a.useState(!1),s=Object(d.a)(n,2),l=s[0],i=s[1];a.a.useEffect((function(){var e=P(c,t);i(-1!==e.indexOf("floatRight"))}),[c,t]);return Object(V.jsx)(X,{active:l,onMouseDown:function(e){return e.preventDefault()},onClick:function(){if(!l){var e=c.getSelection(),o=W(c,t),n=U.EditorState.acceptSelection(c,o);r(H(n,n.getSelection(),"atomic floatRight")),r((function(t){return U.EditorState.acceptSelection(t,e)}))}},children:Object(V.jsx)("img",{src:Te,alt:""})})},Ne=function(e,t,o){var c=e.getCurrentContent(),r=c.getBlockForKey(t).getEntityAt(0),n=c.mergeEntityData(r,Object(h.a)({},o));return U.EditorState.push(e,n,"change-block-data")},Me=o.p+"static/media/crop.8aac24fe.svg",De=o(37),Ke=o.n(De),Le=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.setEditMode,r=o.editorState,n=o.setEditorState,s=a.a.useRef(null),l=a.a.useState(!1),u=Object(d.a)(l,2),j=u[0],f=u[1],p=r.getCurrentContent(),O=p.getBlockForKey(t).getEntityAt(0),S=p.getEntity(O).getData(),w=a.a.useState({width:S.width||0,height:S.height||0}),v=Object(d.a)(w,2),x=v[0],I=v[1];a.a.useEffect((function(){j&&s.current&&(c(!1),s.current.focus())}),[j,c]);var g=function(){f(!1),c(!0)},m=function(e){I((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(i.a)({},e.target.name,+e.target.value))}))};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X,{onClick:function(){f(!0)},children:Object(V.jsx)("img",{src:Me,alt:""})}),j&&Object(V.jsx)("div",{className:Ke.a.wrapper,onMouseDown:function(e){e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation()},children:Object(V.jsxs)(b.a,{onOutsideClick:g,children:[Object(V.jsx)("div",{className:Ke.a.formTitle,children:"Change Size (px)"}),Object(V.jsx)("input",{value:x.width,name:"width",onChange:m,type:"number",ref:s,autoComplete:"off"}),Object(V.jsx)("input",{value:x.height,name:"height",onChange:m,type:"number",autoComplete:"off"}),Object(V.jsxs)("div",{className:Ke.a.buttons,children:[Object(V.jsx)(X,{small:!0,onClick:g,children:"Cancel"}),Object(V.jsx)(X,{small:!0,onClick:function(){c(!0),f(!1);var e=Ne(r,t,x);n(U.EditorState.forceSelection(e,e.getSelection()))},className:Ke.a.changeButton,children:"Change"})]})]})})]})},Ue=o.p+"static/media/link.6b6bbeaa.svg",ze=o(38),Pe=o.n(ze),We=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.setEditMode,r=o.editorState,n=o.setEditorState,s=a.a.useState(!1),l=Object(d.a)(s,2),i=l[0],u=l[1],j=a.a.useRef(null),f=r.getCurrentContent(),b=f.getBlockForKey(t).getEntityAt(0),p=f.getEntity(b).getData(),O=a.a.useState(p.href||""),S=Object(d.a)(O,2),h=S[0],w=S[1];a.a.useEffect((function(){i&&j.current&&(c(!1),j.current.focus())}),[i,c]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(X,{onClick:function(){u(!0),c(!0)},children:Object(V.jsx)("img",{src:Ue,alt:""})}),i&&Object(V.jsxs)("div",{className:Pe.a.wrapper,children:[Object(V.jsx)("div",{className:Pe.a.formTitle,children:"Set Link"}),Object(V.jsx)("input",{ref:j,value:h,onChange:function(e){w(e.target.value)},autoComplete:"off"}),Object(V.jsxs)("div",{className:Pe.a.buttons,children:[Object(V.jsx)(X,{small:!0,onClick:function(){u(!1),c(!1)},children:"Cancel"}),Object(V.jsx)(X,{small:!0,onClick:function(){c(!0),u(!1);var e=Ne(r,t,{href:h});n(U.EditorState.forceSelection(e,e.getSelection()))},className:Pe.a.changeButton,children:"Add Link"})]})]})]})},He=o(126),Qe=o.n(He),Ge=function(e){var t=e.blockKey;return Object(V.jsxs)("div",{className:Qe.a.wrapper,children:[Object(V.jsx)(Fe,{blockKey:t}),Object(V.jsx)(Le,{blockKey:t}),Object(V.jsx)(We,{blockKey:t}),Object(V.jsx)(Re,{blockKey:t}),Object(V.jsx)(Ae,{blockKey:t})]})},Je=o(71),Ve=o.n(Je),Xe=function(e){var t=e.href,o=e.children;return Object(V.jsx)("a",{target:"_blank",rel:"noreferrer",href:t,children:o})},qe=function(e){var t=e.entity,o=e.block,c=a.a.useContext(Se).editMode,r=a.a.useState(!1),s=Object(d.a)(r,2),l=s[0],i=s[1],u=t.getData(),j=u.src,f=u.width,p=u.height,O=u.href,S=Object(n.useRef)(null),h=o.getKey(),w=function(){c&&i((function(e){return!e}))},v=function(){return Object(V.jsx)("img",{ref:S,src:j,alt:"",onClick:w,className:l?Ve.a.opened:"",style:{width:f,height:p}})};return Object(V.jsx)(b.a,{onOutsideClick:function(){i(!1)},children:Object(V.jsxs)("div",{className:Ve.a.wrapper,children:[O&&!c?Object(V.jsx)(Xe,{href:O,children:Object(V.jsx)(v,{})}):Object(V.jsx)(v,{}),l&&Object(V.jsx)(Ge,{blockKey:h})]})})},Ze=o(127),Ye=o.n(Ze),$e=[{label:"Size 1",value:"size1"},{label:"Size 2",value:"size2"},{label:"Size 3",value:"size3"},{label:"Size 4",value:"size4"},{label:"Size 5",value:"size5"}],et=o(128),tt=o.n(et),ot=function(e){var t=e.blockKey,o=a.a.useContext(Se),c=o.editorState,r=o.setEditorState,n=c.getCurrentContent(),s=n.getBlockForKey(t).getEntityAt(0),l=n.getEntity(s).getData(),i=a.a.useState(l.size),u=Object(d.a)(i,2),j=u[0],f=u[1];return Object(V.jsx)("select",{value:j,onChange:function(e){f(e.target.value);var o=Ne(c,t,{size:e.target.value});r(U.EditorState.forceSelection(o,o.getSelection()))},className:tt.a.select,children:$e.map((function(e){return Object(V.jsx)("option",{value:e.value,children:e.label},e.value)}))})},ct=o(129),rt=o.n(ct),nt=function(e){var t=e.blockKey;return Object(V.jsxs)("div",{className:rt.a.wrapper,children:[Object(V.jsx)(Fe,{blockKey:t}),Object(V.jsx)(ot,{blockKey:t}),Object(V.jsx)(Re,{blockKey:t}),Object(V.jsx)(Ae,{blockKey:t})]})},at=o(39),st=o.n(at),lt=function(e){var t=e.entity,o=e.block,c=a.a.useContext(Se).editMode,r=a.a.useState(!1),n=Object(d.a)(r,2),s=n[0],l=n[1],u=t.getData(),f=u.expression,p=u.size,O=a.a.useRef(null),S=o.getKey();a.a.useEffect((function(){O.current&&Ye.a.render(f,O.current,{throwOnError:!1})}),[f]);return Object(V.jsx)(b.a,{onOutsideClick:function(){l(!1)},children:Object(V.jsxs)("div",{className:j()(st.a.wrapper,st.a[p]),children:[Object(V.jsx)("div",{ref:O,onClick:function(){c&&l(!0)},className:j()(st.a.container,Object(i.a)({},st.a.selected,s))}),s&&Object(V.jsx)(nt,{blockKey:S})]})})},it=function(e){var t=e.contentState,o=e.block,c=o.getEntityAt(0);if(c){var r=t.getEntity(c),n=r.getType();if("IMAGE"===n)return Object(V.jsx)(qe,{entity:r,block:o});if("KATEX"===n)return Object(V.jsx)(lt,{entity:r,block:o})}return null},dt=o(72),ut=o.n(dt),jt=function(e){var t=e.value,o=e.colId,c=e.rowId,r=e.editMode,s=e.setEditMode,l=a.a.useContext(p).dispatchRowsState,u=Object(n.useRef)(null),f=a.a.useState(U.EditorState.createEmpty()),O=Object(d.a)(f,2),S=O[0],h=O[1];a.a.useEffect((function(){u.current&&u.current.focus()}),[r]),a.a.useEffect((function(){t?(h(U.EditorState.createWithContent(Object(U.convertFromRaw)(t))),console.log(t)):h(U.EditorState.createEmpty())}),[t]);return Object(V.jsx)(Se.Provider,{value:{editMode:r,setEditMode:s,editorState:S,setEditorState:h,editor:u.current},children:Object(V.jsx)("div",{className:j()(ut.a.wrapper,Object(i.a)({},ut.a.editMode,r)),children:Object(V.jsxs)(b.a,{onOutsideClick:function(){if(r){var e=S.getCurrentContent();l(A.updateColContent({rowId:c,colId:o,content:Object(U.convertToRaw)(e)})),s(!1)}},children:[r&&Object(V.jsx)(ye,{editorState:S,setEditorState:h}),Object(V.jsx)(U.Editor,{blockStyleFn:z,blockRendererFn:function(e){return e.getType().indexOf("atomic")>-1?{component:it,editable:!1}:null},readOnly:!r,editorState:S,onChange:h,ref:u})]})})})},ft=o(55),bt=o.n(ft),pt=a.a.memo((function(e){var t,o=e.colData,c=e.rowId,r=a.a.useState(!1),n=Object(d.a)(r,2),s=n[0],l=n[1],u=a.a.useState(!1),f=Object(d.a)(u,2),b=f[0],O=f[1],S=a.a.useState({rowId:0,colId:0}),h=Object(d.a)(S,2),w=h[0],v=h[1],x=a.a.useContext(p),I=x.rowsState,g=x.tableState,m=x.dispatchTableState;if(a.a.useEffect((function(){g.selectionState.start&&g.selectionState.end?l(M(g.selectionState.start,g.selectionState.end,{rowId:c,colId:o.id})):l(!1),v({rowId:o.rowSpan&&g.selectionState.start&&g.selectionState.start.rowId<c?c+o.rowSpan-1:c,colId:o.colSpan&&g.selectionState.start&&g.selectionState.start.colId<o.id?o.id+o.colSpan-1:o.id})}),[g,c,o]),!o.display)return null;return Object(V.jsx)("td",{id:"col-".concat(c,"-").concat(o.id),onMouseDown:function(){g.touched||b?b||m(T.setEndSelection({positionEnd:w,finished:!0,rows:I})):m(T.setStartSelection({positionStart:{rowId:c,colId:o.id}}))},onMouseUp:function(){b||m(T.setEndSelection({positionEnd:w,finished:!0,rows:I}))},onMouseEnter:function(){g.touched&&!b&&m(T.setEndSelection({positionEnd:{rowId:c,colId:o.id},finished:!1,rows:I}))},onDoubleClick:function(){g.selectionState.selected&&m(T.clearSelection()),O(!0)},colSpan:o.colSpan,rowSpan:o.rowSpan,className:j()(bt.a.wrapper,(t={},Object(i.a)(t,bt.a.selected,s),Object(i.a)(t,bt.a.editMode,b),t)),style:{background:o.background},children:"text"===o.type&&Object(V.jsx)(jt,{value:o.content,background:o.background,rowId:c,colId:o.id,editMode:b,setEditMode:O})})})),Ot={content:"",type:"text",display:!0},St=["#fff1b8","#ffffb8","#f4ffb8","#d9f7be","#b5f5ec","#bae7ff","#d6e4ff","#efdbff","#ffccc7"],ht=function(e,t){var o=e[t-1],c=e[t],r={id:t+1,cols:[]};o.cols.forEach((function(e,n){var a=Object(h.a)(Object(h.a)({},Ot),{},{id:e.id});if(c){var s=o.cols[n],l=c.cols[n];s.rowSpan&&l.resourceFor&&l.resourceFor.colId===s.id&&l.resourceFor.rowId===o.id?r.cols.push(Object(h.a)(Object(h.a)({},a),{},{display:!1,resourceFor:{rowId:t,colId:e.id}})):s.resourceFor&&l.resourceFor&&l.resourceFor.colId===s.resourceFor.colId&&l.resourceFor.rowId===s.resourceFor.rowId?r.cols.push(Object(h.a)(Object(h.a)({},a),{},{display:!1,resourceFor:s.resourceFor})):r.cols.push(a)}else r.cols.push(a)}));var n=[];r.cols.forEach((function(t){if(t.resourceFor){var o="".concat(t.resourceFor.rowId).concat(t.resourceFor.colId);if(!n.includes(o)){var c=e[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].rowSpan||0;e[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].rowSpan=c+1,n.push(o)}}}));var a=e.map((function(e){if(e.id>t){var o=e.cols.map((function(e){return Object(h.a)(Object(h.a)({},e),e.resourceFor&&e.resourceFor.rowId>t?{resourceFor:Object(h.a)(Object(h.a)({},e.resourceFor),{},{rowId:e.resourceFor.rowId+1})}:e.resourceFor)}));return Object(h.a)(Object(h.a)({},e),{},{id:e.id+1,cols:o})}return e}));return a.splice(t,0,r),a.forEach((function(e){e.cols.forEach((function(t){var o;(t.resources&&(a[e.id-1].cols[t.id-1].resources=[]),t.resourceFor&&a[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1])&&(null===(o=a[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1].resources)||void 0===o||o.push({colId:t.id,rowId:e.id}))}))})),a},wt=o(73),vt=o.n(wt),xt=function(e){var t=e.rowId,o=a.a.useContext(p),c=o.dispatchRowsState,r=o.rowsState;return Object(V.jsx)("div",{className:vt.a.wrapper,children:Object(V.jsx)("button",{className:vt.a.addButton,onClick:function(e){e.stopPropagation(),c(A.rowsUpdate({rows:ht(r,t)}))},children:"+"})})},It=o.p+"static/media/close-circle.50ed0904.svg",gt=o(130),mt=o.n(gt),_t=function(e){var t=e.rowId,o=e.setRowSelected,c=a.a.useContext(p).dispatchRowsState;return Object(V.jsx)("button",{className:mt.a.wrapper,onClick:function(e){e.stopPropagation(),c(A.removeRow({rowId:t})),o(!1)},children:Object(V.jsx)("img",{src:It,alt:""})})},Ct=o(74),Et=o.n(Ct),yt=function(e){var t=e.rowData,o=a.a.useState(!1),c=Object(d.a)(o,2),r=c[0],n=c[1],s=a.a.useContext(p),l=s.rowsState,i=s.dispatchTableState,u=a.a.useState(0),j=Object(d.a)(u,2),f=j[0],O=j[1],S=a.a.useRef(null);return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{ref:S,className:Et.a.techCol,onClick:function(){var e;(n(!0),i(T.clearSelection()),S.current)&&O(((null===(e=S.current.closest("table"))||void 0===e?void 0:e.offsetWidth)||0)-12)},children:[Object(V.jsx)(xt,{rowId:t.id}),r&&l.length>1&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{className:Et.a.selectArea,style:{width:f}}),Object(V.jsx)(b.a,{onOutsideClick:function(){r&&n(!1)},children:Object(V.jsx)(_t,{rowId:t.id,setRowSelected:n})})]})]}),t.cols.map((function(e){return Object(V.jsx)(pt,{colData:e,rowId:t.id},e.id)}))]})},kt=function(e){var t=e.tableState.selectionState,o=e.rowsState,c=t.selectedCols,r=t.start,n=t.end,a=D(t),s=[],l=!1,i={maxColId:0,maxRowId:0,startColId:0,startRowId:0,get:function(){return(this.maxColId-this.startColId+1)*(this.maxRowId-this.startRowId+1)}};return o.forEach((function(e){e.cols.forEach((function(t){if(t.colSpan||t.rowSpan){var o=t.colSpan||0,c=t.rowSpan||0;s.push({row:{min:e.id,max:c?e.id+c-1:e.id},col:{min:t.id,max:o?t.id+o-1:t.id}})}}))})),c.forEach((function(e,t){var o=e.colSpan?e.colId+e.colSpan-1:e.colId,c=e.rowSpan?e.rowId+e.rowSpan-1:e.rowId;o>i.maxColId&&(i.maxColId=o),c>i.maxRowId&&(i.maxRowId=c),0===t&&(i.startColId=e.colId,i.startRowId=e.rowId)})),s.forEach((function(e){r&&n&&!l&&("part"===function(e,t){var o=Math.max(e.col.min-1,t.col.min-1),c=Math.min(e.col.max,t.col.max),r=Math.max(e.row.min-1,t.row.min-1),n=Math.min(e.row.max,t.row.max),a=(e.col.max-e.col.min+1)*(e.row.max-e.row.min+1);return o<c&&r<n?(c-o)*(n-r)===a?"full":"part":"not"}(e,{row:{min:r.rowId,max:n.rowId},col:{min:r.colId,max:n.colId}})&&(l=!0))})),!a&&i.get()===c.length&&!l},Ft=function(){var e=a.a.useContext(p);return Object(V.jsx)("li",{children:Object(V.jsx)("button",{disabled:!kt(e),onClick:function(){!function(e){var t=e.tableState.selectionState,o=e.rowsState,c=[],r=t.selectedCols,n={rowId:r[0].rowId,colId:r[0].colId},a={prevRowId:r[0].rowId,prevColId:0,count:0},s={prevRowId:0,count:0};r.forEach((function(e,o){e.colId!==a.prevColId&&e.rowId===a.prevRowId&&(a.prevColId=e.colId,a.count+=1,r.length===o-1&&e.colSpan&&(a.count+=e.colSpan)),e.rowId!==s.prevRowId&&(s.prevRowId=e.rowId,s.count+=1,t.selectedCols.length===o-1&&e.rowSpan&&(s.count+=e.rowSpan))}));var l=o.map((function(e){var o=e.cols.map((function(o){var r={rowId:e.id,colId:o.id},l=n.rowId===e.id&&n.colId===o.id,i=M(t.start,t.end,r);return l&&a.count>1&&(o.colSpan=a.count),l&&s.count>1&&(o.rowSpan=s.count),i&&!l&&c.push(r),Object(h.a)(Object(h.a)(Object(h.a)({},i&&!l?Object(v.a)(o,["colSpan","rowSpan"]):o),l?{resources:[]}:{}),i&&!l?{display:!1,resourceFor:n}:{})}));return Object(h.a)(Object(h.a)({},e),{},{cols:o})}));l[n.rowId-1].cols[n.colId-1].resources=c,e.dispatchRowsState(A.rowsUpdate({rows:l})),e.dispatchTableState(T.clearSelection())}(e)},children:"Merge"})})},Bt=function(){var e=a.a.useContext(p),t=a.a.useState(!1),o=Object(d.a)(t,2),c=o[0],r=o[1],n=e.tableState,s=e.rowsState;return a.a.useEffect((function(){var e,t=n.selectionState.start;if(t){var o=s[(e=t).rowId-1].cols[e.colId-1];(o.colSpan||o.rowSpan)&&D(n.selectionState)&&r(!0)}}),[n,s]),Object(V.jsx)("li",{children:Object(V.jsx)("button",{disabled:!c,onClick:function(){!function(e){var t=e.tableState.selectionState,o=e.rowsState,c=t.selectedCols[0],r=o[c.rowId-1].cols[c.colId-1];r&&r.resources&&r.resources.forEach((function(e){var t=o[e.rowId-1].cols[e.colId-1];o[e.rowId-1].cols[e.colId-1]=Object(h.a)(Object(h.a)({},Object(v.a)(t,["resourceFor"])),{},{display:!0})})),o[c.rowId-1].cols[c.colId-1]=Object(v.a)(r,["resources","colSpan","rowSpan"]),e.dispatchRowsState(A.rowsUpdate({rows:o})),e.dispatchTableState(T.clearSelection())}(e)},children:"Unmerge"})})},Rt=o(31),Tt=o.n(Rt),At=function(){var e=a.a.useContext(p),t=e.dispatchRowsState,o=e.tableState,c=function(e){t(A.updateColBackground({selectionState:o.selectionState,background:e}))};return Object(V.jsxs)("li",{className:Tt.a.wrapper,children:[Object(V.jsx)("button",{children:"Background color"}),Object(V.jsxs)("div",{className:Tt.a.colors,children:[Object(V.jsx)("button",{onClick:function(){return c(void 0)},className:j()(Tt.a.colorButton,Tt.a.transparent)}),St.map((function(e){return Object(V.jsx)("button",{onClick:function(){return c(e)},style:{background:e},className:Tt.a.colorButton},e)}))]})]})},Nt=[{label:"Text",value:"text"}],Mt=o.p+"static/media/check-circle.c253255a.svg",Dt=o(40),Kt=o.n(Dt),Lt=function(){var e=a.a.useContext(p),t=e.dispatchRowsState,o=e.tableState,c=e.rowsState,r=a.a.useState(""),n=Object(d.a)(r,2),s=n[0],l=n[1],i=o.selectionState;a.a.useEffect((function(){if(i.selected){var e=i.selectedCols[0].rowId,t=i.selectedCols[0].colId;l(c[e-1].cols[t-1].type)}}),[i,c]);return Object(V.jsxs)("li",{className:Kt.a.wrapper,children:[Object(V.jsx)("button",{children:"Type"}),Object(V.jsx)("ul",{className:Kt.a.types,children:Nt.map((function(e){return Object(V.jsx)("li",{children:Object(V.jsxs)("button",{className:s===e.value?Kt.a.selected:"",onClick:function(){return function(e){var c=i.selectedCols[0].rowId,r=i.selectedCols[0].colId;t(A.updateColType({selectionState:o.selectionState,type:e})),t(A.updateColContent({colId:r,rowId:c,content:""}))}(e.value)},children:[e.label,s===e.value&&Object(V.jsx)("img",{src:Mt,alt:"",className:Kt.a.icon})]})},e.value)}))})]})},Ut=o.p+"static/media/setting.5524b19c.svg",zt=o(41),Pt=o.n(zt),Wt=function(){var e=a.a.useContext(p).tableState,t=a.a.useState(),o=Object(d.a)(t,2),c=o[0],r=o[1],n=a.a.useState(!1),s=Object(d.a)(n,2),l=s[0],u=s[1];a.a.useEffect((function(){e.selectionState.start&&e.selectionState.end&&r(function(e,t){var o=N(e,t),c=document.getElementById("col-".concat(o.row.min,"-").concat(o.col.min));return c?{top:c.offsetTop+5,left:c.offsetLeft+5}:{top:0,left:0}}(e.selectionState.start,e.selectionState.end))}),[e]);return Object(V.jsxs)("div",{className:j()(Pt.a.wrapper,Object(i.a)({},Pt.a.selected,e.selectionState.selected&&e.selectionState.selectedCols.length>0)),style:c,children:[Object(V.jsx)(X,{onClick:function(){return u(!l)},className:Pt.a.settingButton,children:Object(V.jsx)("img",{src:Ut,alt:""})}),l&&Object(V.jsx)(b.a,{onOutsideClick:function(){l&&u(!1)},children:Object(V.jsxs)("ul",{className:Pt.a.menu,children:[Object(V.jsx)(At,{}),Object(V.jsx)(Lt,{}),Object(V.jsx)(Ft,{}),Object(V.jsx)(Bt,{})]})})]})},Ht=function(e,t){var o=e.map((function(e){var o,c,r=e.cols.map((function(e){return e.id>t?Object(h.a)(Object(h.a)(Object(h.a)({},e),{},{id:e.id+1},e.resources?{resources:e.resources.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{colId:e.colId+1})}))}:{}),e.resourceFor&&e.resourceFor.colId>t?{resourceFor:Object(h.a)(Object(h.a)({},e.resourceFor),{},{colId:e.resourceFor.colId+1})}:e.resourceFor):e})),n=r[t-1]&&r[t-1].resourceFor&&r[t]&&r[t].resourceFor&&(null===(o=r[t-1].resourceFor)||void 0===o?void 0:o.colId)===(null===(c=r[t].resourceFor)||void 0===c?void 0:c.colId),a=Object(h.a)(Object(h.a)(Object(h.a)({id:t+1},Ot),r[t-1]&&r[t-1].colSpan?{display:!1,resourceFor:{rowId:e.id,colId:r[t-1].id}}:{}),n?{display:!1,resourceFor:r[t-1].resourceFor}:{});if(r[t-1]&&r[t-1].colSpan&&(r[t-1].colSpan+=1),n){var s=r[t-1].resourceFor;s&&r[s.colId-1]&&(r[s.colId-1].colSpan+=1)}return r.splice(t,0,a),Object(h.a)(Object(h.a)({},e),{},{cols:r})}));return o.forEach((function(e){e.cols.forEach((function(t){var c,r;(t.resources&&(o[e.id-1].cols[t.id-1].resources=[]),t.resourceFor)&&(null===(c=o[t.resourceFor.rowId-1].cols[t.resourceFor.colId-1])||void 0===c||null===(r=c.resources)||void 0===r||r.push({colId:t.id,rowId:e.id}))}))})),o},Qt=o(75),Gt=o.n(Qt),Jt=function(e){var t=e.colId,o=a.a.useContext(p),c=o.rowsState,r=o.dispatchRowsState;return Object(V.jsx)("div",{className:Gt.a.wrapper,children:Object(V.jsx)("button",{className:Gt.a.addButton,onClick:function(e){e.stopPropagation(),r(A.rowsUpdate({rows:Ht(c,t)}))},children:"+"})})},Vt=o.p+"static/media/close-circle.50ed0904.svg",Xt=o(131),qt=o.n(Xt),Zt=function(e){var t=e.colId,o=e.setColSelected,c=a.a.useContext(p).dispatchRowsState;return Object(V.jsx)("button",{className:qt.a.wrapper,onClick:function(e){e.stopPropagation(),c(A.removeCol({colId:t})),o(!1)},children:Object(V.jsx)("img",{src:Vt,alt:""})})},Yt=o(132),$t=o.n(Yt),eo=function(e){var t=e.tableHeight,o=e.colId,c=a.a.useContext(p),r=c.rowsState,s=c.dispatchTableState,l=c.dispatchRowsState,i=Object(n.useState)(!1),u=Object(d.a)(i,2),j=u[0],f=u[1],b=Object(n.useState)(0),O=Object(d.a)(b,2),S=O[0],h=O[1],w=Object(n.useState)(0),v=Object(d.a)(w,2),x=v[0],I=v[1],g=Object(n.useState)(0),m=Object(d.a)(g,2),_=m[0],C=m[1],E=function(e){e.stopPropagation(),j&&(l(A.setColWidth({colId:o,width:S-_})),C(0),f(!1))};return r[0].cols.length===o?null:Object(V.jsx)("div",{onMouseDown:function(e){e.stopPropagation(),s(T.clearSelection()),f(!0),I(e.screenX+_)},onMouseUp:E,onMouseLeave:E,onMouseMove:function(e){e.stopPropagation(),j&&S-_>10&&C(x-e.screenX)},onClick:function(e){return e.stopPropagation()},ref:function(e){var t;return h((null===e||void 0===e||null===(t=e.closest("td"))||void 0===t?void 0:t.offsetWidth)||0)},className:$t.a.wrapper,style:{height:t,right:_}})},to=o(76),oo=o.n(to),co=function(e){var t,o=e.colId,c=a.a.useContext(p),r=c.rowsState,n=c.dispatchTableState,s=a.a.useState(!1),l=Object(d.a)(s,2),i=l[0],u=l[1],j=a.a.useState(0),f=Object(d.a)(j,2),O=f[0],S=f[1];return Object(V.jsxs)("td",{ref:function(e){var t;return S(((null===e||void 0===e||null===(t=e.closest("table"))||void 0===t?void 0:t.offsetHeight)||0)-12)},onClick:function(){n(T.clearSelection()),u(!0)},className:oo.a.techCol,style:{width:r[0].cols.length>1?null===(t=r[0].cols[o-1])||void 0===t?void 0:t.width:"auto"},children:[Object(V.jsx)(Jt,{colId:o}),Object(V.jsx)(eo,{tableHeight:O,colId:o}),r[0].cols.length>1&&i&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{className:oo.a.selectArea,style:{height:O}}),Object(V.jsx)(b.a,{onOutsideClick:function(){i&&u(!1)},children:Object(V.jsx)(Zt,{colId:o,setColSelected:u})})]})]})},ro=function(){var e=a.a.useContext(p).rowsState,t=a.a.useState([]),o=Object(d.a)(t,2),c=o[0],r=o[1];return a.a.useEffect((function(){r(Array(function(e){var t=0;return e.forEach((function(e){e.cols.length>t&&(t=e.cols.length)})),t}(e)).fill({}).map((function(e,t){return Object(h.a)(Object(h.a)({},e),{},{id:t+1})})))}),[e]),e.length?Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{style:{width:10}}),c.map((function(e){return Object(V.jsx)(co,{colId:e.id},e.id)}))]}):null},no=o(56),ao=o.n(no),so=function(e){var t=e.onChange,o=a.a.useReducer(K,O),c=Object(d.a)(o,2),r=c[0],n=c[1],s=a.a.useReducer(L,S),l=Object(d.a)(s,2),u=l[0],f=l[1];a.a.useEffect((function(){t&&"function"===typeof t&&t(u)}),[u,t]);return Object(V.jsx)(p.Provider,{value:{dispatchTableState:n,tableState:r,rowsState:u,dispatchRowsState:f},children:Object(V.jsx)("div",{className:j()(ao.a.wrapper,"notranslate"),children:Object(V.jsxs)(b.a,{onOutsideClick:function(){r.selectionState.selected&&n(T.clearSelection())},children:[Object(V.jsx)("table",{className:j()(ao.a.table,Object(i.a)({},ao.a.filled,!!u.length)),children:Object(V.jsxs)("tbody",{children:[Object(V.jsx)(ro,{}),u.map((function(e){return Object(V.jsx)(yt,{rowData:e},e.id)}))]})}),Object(V.jsx)(Wt,{})]})})})};var lo=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(so,{})})};l.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(lo,{})}),document.getElementById("root"))},28:function(e,t,o){e.exports={wrapper:"Headers_wrapper__X7WTc",select:"Headers_select__1J-Af",openButton:"Headers_openButton__fmsxb",list:"Headers_list__33JR1",header:"Headers_header__pg6Cl"}},29:function(e,t,o){e.exports={wrapper:"InsertKatex_wrapper__dodJP",opened:"InsertKatex_opened__22-W0",textarea:"InsertKatex_textarea__32QvQ",buttons:"InsertKatex_buttons__1xWnc",insertButton:"InsertKatex_insertButton__LpxkI"}},30:function(e,t,o){e.exports={wrapper:"Panel_wrapper__15ls_",separator:"Panel_separator__3uLZj"}},31:function(e,t,o){e.exports={wrapper:"ChangeBackground_wrapper__2Uwxj",colors:"ChangeBackground_colors__Je-TV",colorButton:"ChangeBackground_colorButton__2QEDl",transparent:"ChangeBackground_transparent__mqomV"}},36:function(e,t,o){e.exports={wrapper:"Button_wrapper__pj90c",active:"Button_active__FWtIw",disabled:"Button_disabled__1AAMG",small:"Button_small__2T4PP"}},37:function(e,t,o){e.exports={wrapper:"ChangeSize_wrapper__1REPo",formTitle:"ChangeSize_formTitle__tQnyh",buttons:"ChangeSize_buttons__3SB7j",changeButton:"ChangeSize_changeButton__AHMPs"}},38:function(e,t,o){e.exports={wrapper:"Link_wrapper__pVwoB",formTitle:"Link_formTitle__b8RDv",buttons:"Link_buttons__nTc6w",changeButton:"Link_changeButton__-tGgd"}},39:function(e,t,o){e.exports={wrapper:"Katex_wrapper__32DMN",size1:"Katex_size1__1h_Au",size2:"Katex_size2__34cOg",size3:"Katex_size3__1BKut",size4:"Katex_size4__1AeUB",size5:"Katex_size5__rSocC",container:"Katex_container__1_kc3",selected:"Katex_selected__1hAIn"}},40:function(e,t,o){e.exports={wrapper:"ChangeType_wrapper__1P-DQ",types:"ChangeType_types__bLLj_",icon:"ChangeType_icon__1EOsa"}},41:function(e,t,o){e.exports={wrapper:"SelectionMenu_wrapper__2E3fb",selected:"SelectionMenu_selected__1dW4V",settingButton:"SelectionMenu_settingButton__2RZd1",menu:"SelectionMenu_menu__3_fZg"}},55:function(e,t,o){e.exports={wrapper:"Col_wrapper__3FddR",selected:"Col_selected__29n3t",editMode:"Col_editMode__3GAwp"}},56:function(e,t,o){e.exports={wrapper:"Table_wrapper__2oJSk",table:"Table_table__3Cw9e",filled:"Table_filled__wq5i1"}},71:function(e,t,o){e.exports={wrapper:"Image_wrapper__1UzAe",opened:"Image_opened__2scOB"}},72:function(e,t,o){e.exports={wrapper:"Text_wrapper__2zOXf",editMode:"Text_editMode__2BkYq"}},73:function(e,t,o){e.exports={wrapper:"AddRow_wrapper__3NW4Q",addButton:"AddRow_addButton__1hGob"}},74:function(e,t,o){e.exports={techCol:"Row_techCol__HSNZB",active:"Row_active__1oG0c",selectArea:"Row_selectArea__X8N3B",blinker:"Row_blinker__6_-6l"}},75:function(e,t,o){e.exports={wrapper:"AddCol_wrapper__OkM3j",addButton:"AddCol_addButton__2VG6f"}},76:function(e,t,o){e.exports={techCol:"TechCol_techCol__3-ePx",selectArea:"TechCol_selectArea__1hdFm",blinker:"TechCol_blinker__3LS_s"}}},[[254,1,2]]]);
//# sourceMappingURL=main.db6f10d5.chunk.js.map