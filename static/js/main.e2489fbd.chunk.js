(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports={wrapper:"Button_wrapper__pj90c",active:"Button_active__FWtIw",disabled:"Button_disabled__1AAMG"}},function(t,e,n){t.exports={wrapper:"Table_wrapper__2oJSk",table:"Table_table__3Cw9e",filled:"Table_filled__wq5i1"}},,function(t,e,n){t.exports={wrapper:"Col_wrapper__3FddR",selected:"Col_selected__29n3t"}},function(t,e,n){t.exports={colorButton:"ChangeBackground_colorButton__2QEDl"}},,function(t,e,n){t.exports={wrapper:"TextEdit_wrapper__3ANjp"}},function(t,e,n){t.exports={wrapper:"SelectionMenu_wrapper__2E3fb"}},function(t,e,n){t.exports={wrapper:"AddCol_wrapper__2LYv8"}},function(t,e,n){t.exports={wrapper:"AddRow_wrapper__g2LGC"}},,,,,,function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),o=n(15),r=n.n(o),l=n(4),i=n(5),d=c.createContext(null),s={editableCol:0,touched:!1,selectionState:{selected:!1},rows:[]},u=n(2),b=n(3),j=Object(b.createStandardAction)("TABLE/SET_START_SELECTION")(),f=Object(b.createStandardAction)("TABLE/SET_END_SELECTION")(),p=Object(b.createStandardAction)("TABLE/SET_SELECTED_SELECTION")(),O=Object(b.createStandardAction)("TABLE/SET_TOUCHED")(),w=Object(b.createStandardAction)("TABLE/CLEAR_SELECTION")(),S=Object(b.createStandardAction)("TABLE/ROWS_UPDATE")(),x=Object(b.createStandardAction)("TABLE/SET_EDITABLE_COL")(),I=Object(b.createStandardAction)("TABLE/UPDATE_COL_CONTENT")(),_=Object(b.createStandardAction)("TABLE/UPDATE_COL_BACKGROUND")(),h=Object(b.createReducer)(s).handleAction(j,(function(t,e){var n=e.payload.positionStart;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{start:n})})})).handleAction(f,(function(t,e){var n=e.payload.positionEnd;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{end:n})})})).handleAction(O,(function(t,e){var n=e.payload.touched;return Object(u.a)(Object(u.a)({},t),{},{touched:n})})).handleAction(p,(function(t,e){var n=e.payload.selected;return Object(u.a)(Object(u.a)({},t),{},{selectionState:Object(u.a)(Object(u.a)({},t.selectionState),{},{selected:n})})})).handleAction(w,(function(t){return Object(u.a)(Object(u.a)({},t),{},{selectionState:{selected:!1}})})).handleAction(S,(function(t,e){var n=e.payload.rows;return Object(u.a)(Object(u.a)({},t),{},{rows:n})})).handleAction(x,(function(t,e){var n=e.payload.editableCol;return Object(u.a)(Object(u.a)({},t),{},{editableCol:n})})).handleAction(I,(function(t,e){var n=e.payload,c=n.colId,a=n.rowId,o=n.content,r=t.rows;return r[a-1].cols[c-1].content=o,Object(u.a)(Object(u.a)({},t),{},{rows:r})})).handleAction(_,(function(t,e){var n=e.payload,c=n.colId,a=n.rowId,o=n.background,r=t.rows;return r[a-1].cols[c-1].background=o,Object(u.a)(Object(u.a)({},t),{},{rows:r})})),E={content:"",type:"text",display:!0},v=["#fff1b8","#ffffb8","#f4ffb8","#d9f7be","#b5f5ec","#bae7ff","#d6e4ff","#efdbff","#ffd6e7"],m=n(6),A=n.n(m),C=function(t,e){return{row:{min:t.rowId<e.rowId?t.rowId:e.rowId,max:t.rowId<e.rowId?e.rowId:t.rowId},col:{min:t.colId<e.colId?t.colId:e.colId,max:t.colId<e.colId?e.colId:t.colId}}},T=function(t,e,n){var c=C(t,e);return n.rowId>=c.row.min&&n.rowId<=c.row.max&&n.colId>=c.col.min&&n.colId<=c.col.max},y=function(t){if(t.start&&t.end){var e=C(t.start,t.end);return(e.row.max-e.row.min+1)*(e.col.max-e.col.min+1)}return 0},L=n(13),B=n.n(L),N=n(16),g=n.n(N),k=n(0),D=function(t){var e=t.value,n=t.colId,o=t.rowId,r=a.a.useContext(d).dispatch,l=Object(c.useRef)(null);a.a.useEffect((function(){l.current&&l.current.focus()}),[]);return Object(k.jsx)("input",{ref:l,defaultValue:e,onBlur:function(t){r(I({rowId:o,colId:n,content:t.target.value})),r(x({editableCol:0}))},className:g.a.wrapper})},R=function(t){var e=t.colData,n=t.rowId,o=a.a.useState(!1),r=Object(i.a)(o,2),s=r[0],u=r[1],b=a.a.useState(!1),S=Object(i.a)(b,2),x=S[0],I=S[1],_=a.a.useContext(d),h=_.state,E=_.dispatch,v=Object(c.useRef)(null);if(a.a.useEffect((function(){h.selectionState.start&&h.selectionState.end?u(T(h.selectionState.start,h.selectionState.end,{rowId:n,colId:e.id})):u(!1),h.editableCol===+"".concat(n).concat(e.id)?I(!0):I(!1)}),[h,n,e,v]),!e.display)return null;return Object(k.jsxs)("td",{id:"col-".concat(n,"-").concat(e.id),onMouseDown:function(){E(w()),E(O({touched:!0})),E(j({positionStart:{rowId:n,colId:e.id}}))},onMouseUp:function(){E(O({touched:!1})),E(p({selected:!0})),E(f({positionEnd:{rowId:n,colId:e.id}}))},onMouseEnter:function(){h.touched&&E(f({positionEnd:{rowId:n,colId:e.id}}))},colSpan:e.colSpan,rowSpan:e.rowSpan,className:A()(B.a.wrapper,Object(l.a)({},B.a.selected,s)),style:{background:e.background},children:[x&&"text"===e.type&&Object(k.jsx)(D,{value:e.content,rowId:n,colId:e.id}),!x&&e.content]})},M=function(t){var e=t.rowData;return Object(k.jsx)("tr",{style:{height:e.height||45},children:e.cols.map((function(t){return Object(k.jsx)(R,{colData:t,rowId:e.id},t.id)}))})},U=n(10),P=n.n(U),G=function(t){var e,n=t.children,c=t.onClick,a=t.className,o=t.style,r=t.active,i=void 0!==r&&r,d=t.disabled,s=void 0!==d&&d;return Object(k.jsx)("button",{disabled:s,onClick:c,className:A()(P.a.wrapper,a,(e={},Object(l.a)(e,P.a.active,i),Object(l.a)(e,P.a.disabled,s),e)),style:o,children:n})},J=function(){var t=a.a.useState(0),e=Object(i.a)(t,2),n=e[0],c=e[1],o=a.a.useContext(d),r=o.state,l=o.dispatch;if(a.a.useEffect((function(){c(y(r.selectionState))}),[r]),n<=1)return null;return Object(k.jsx)(G,{onClick:function(){!function(t,e){var n=t.selectionState,c=t.rows;if(n.end&&n.start){var a=C(n.start,n.end),o=a.col.max+1-a.col.min,r=a.row.max+1-a.row.min,l={row:a.row.min,col:a.col.min};o>1&&(c[l.row-1].cols[l.col-1].colSpan=o),r>1&&(c[l.row-1].cols[l.col-1].rowSpan=r),c.forEach((function(t){t.cols=t.cols.map((function(e){return!T(n.start,n.end,{rowId:t.id,colId:e.id})||l.row===t.id&&l.col===e.id?e:Object(u.a)(Object(u.a)({},e),{},{display:!1})}))})),e(S({rows:c})),e(w())}}(r,l)},children:"Merge"})},F=function(){var t=a.a.useContext(d),e=t.dispatch,n=t.state;if(y(n.selectionState)>1)return null;return Object(k.jsx)(G,{onClick:function(){n.selectionState.start&&e(x({editableCol:+"".concat(n.selectionState.start.rowId).concat(n.selectionState.start.colId)}))},children:"Edit"})},W=n(14),q=n.n(W),H=function(){var t=a.a.useContext(d),e=t.state,n=t.dispatch;return Object(k.jsx)("div",{className:q.a.wrappers,children:v.map((function(t){return Object(k.jsx)("button",{onClick:function(){return function(t){if(e.selectionState.start&&e.selectionState.end){var c=C(e.selectionState.start,e.selectionState.end);n(_({rowId:c.row.min,colId:c.col.min,background:t}))}}(t)},style:{background:t},className:q.a.colorButton},t)}))})},K=n(17),Q=n.n(K),V=function(){var t=a.a.useContext(d).state,e=a.a.useState(),n=Object(i.a)(e,2),c=n[0],o=n[1];return a.a.useEffect((function(){t.selectionState.start&&t.selectionState.end&&o(function(t,e){var n=C(t,e),c=document.getElementById("col-".concat(n.row.min,"-").concat(n.col.min));return c?{top:c.offsetTop+8,left:c.offsetLeft+8}:{top:0,left:0}}(t.selectionState.start,t.selectionState.end))}),[t]),t.selectionState.selected?Object(k.jsxs)("div",{className:Q.a.wrapper,style:c,children:[Object(k.jsx)(J,{}),Object(k.jsx)(F,{}),Object(k.jsx)(H,{})]}):null},Y=n(9),z=n(18),X=n.n(z),Z=function(){var t=a.a.useContext(d),e=t.state,n=t.dispatch;return e.rows.length?Object(k.jsx)(G,{onClick:function(){var t;n(S({rows:(t=e.rows,t.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{cols:[].concat(Object(Y.a)(t.cols),[Object(u.a)({id:t.cols.length+1},E)])})})))}))},className:X.a.wrapper,children:"Add Cell"}):null},$=function(t){var e=t[0]?t[0].cols.length:1,n={id:t.length+1,cols:new Array(e).fill(E).map((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{id:e+1})}))};return[].concat(Object(Y.a)(t),[n])},tt=n(19),et=n.n(tt),nt=function(){var t=a.a.useContext(d),e=t.dispatch,n=t.state;return Object(k.jsx)(G,{onClick:function(){e(S({rows:$(n.rows)}))},className:et.a.wrapper,children:"Add row"})},ct=n(11),at=n.n(ct),ot=function(){var t=a.a.useReducer(h,s),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(k.jsx)(d.Provider,{value:{dispatch:c,state:n},children:Object(k.jsxs)("div",{className:at.a.wrapper,children:[Object(k.jsx)("table",{className:A()(at.a.table,Object(l.a)({},at.a.filled,!!n.rows.length)),children:Object(k.jsx)("tbody",{children:n.rows.map((function(t){return Object(k.jsx)(M,{rowData:t},t.id)}))})}),Object(k.jsx)(V,{}),Object(k.jsx)(Z,{}),Object(k.jsx)(nt,{})]})})};var rt=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(ot,{})})};r.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(rt,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.e2489fbd.chunk.js.map